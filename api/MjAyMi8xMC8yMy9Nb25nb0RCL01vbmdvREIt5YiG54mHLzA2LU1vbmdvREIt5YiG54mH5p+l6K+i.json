{"title":"MongoDB-分片查询","date":"2022-10-23T15:29:53.000Z","date_formatted":{"ll":"Oct 23, 2022","L":"10/23/2022","MM-DD":"10-23"},"link":"2022/10/23/MongoDB/MongoDB-分片/06-MongoDB-分片查询","tags":["MongoDB"],"updated":"2022-10-23T15:33:22.576Z","content":"<p>!&gt; 分片查询注意事项</p>\n<p>用户的请求会发送给 mongos 路由服务器, 路由服务器会根据查询条件去配置服务器查询对应的数据段和属于哪个分片服务器, 如果用户查询的条件是分片片键字段, 那么路由服务器会返回保存在那一台分片服务器上, 路由服务器就会去对应的分片服务器获取数据, 并将取到的数据返回给用户。</p>\n<p>如果用户查询的条件不是分片片键字段, 那么配置服务器无法告知路由服务器数据保存在哪一个分片服务器上，路由服务器会把请求发送到所有的分片服务器上, 然后再将查询到的数据汇总后返回给用户。</p>\n","prev":{"title":"MongoDB-分片集群搭建","link":"2022/10/23/MongoDB/MongoDB-分片/07-MongoDB-分片集群搭建"},"next":{"title":"MongoDB-分片优化","link":"2022/10/23/MongoDB/MongoDB-分片/05-MongoDB-分片优化"},"plink":"http://example.com/2022/10/23/MongoDB/MongoDB-分片/06-MongoDB-分片查询/","reading_time":"215 words in 1 min"}