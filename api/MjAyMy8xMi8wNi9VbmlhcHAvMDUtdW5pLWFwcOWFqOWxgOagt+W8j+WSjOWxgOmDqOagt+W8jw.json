{"title":"uni-app全局样式和局部样式","date":"2023-12-05T16:07:19.000Z","date_formatted":{"ll":"Dec 6, 2023","L":"12/06/2023","MM-DD":"12-06"},"link":"2023/12/06/Uniapp/05-uni-app全局样式和局部样式","tags":["Uniapp"],"updated":"2023-12-07T15:21:32.195Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231203180237703-84330282.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<p>好，经过上个章节的介绍完毕之后，了解了一下 UniApp 的一个全局 <code>页面配置文件</code>，也就是我们的一个 <code>pages.json</code> 文件。</p>\n<p>那么了解完了这个文件之后，这片文章，再了解一下 UniApp 的一个全局样式和我们的局部样式。</p>\n<h1 id=\"搭建演示环境\">搭建演示环境<a title=\"#搭建演示环境\" href=\"#搭建演示环境\"></a></h1>\n<p>创建一个全新的项目：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231206001353770-216896427.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>然后在配置一下，微信小程序的 AppId，直接去之前的项目中拷贝一下即可，找到之前项目的 <code>manifest.json</code> 文件，然后选择微信小程序配置，复制一下即可：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231206001540318-1971230245.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>我这里使用两个页面来进行展示，分别是首页与账号页面，账号页面是没有的所以需要我们自行创建，创建方式前面讲过了，所以我这里就不会在重新介绍，我直接将两个页面的代码都贴在下方，大家自行拿去，然后我分别将两个也没的样式都给去掉了，就为了本次文章要介绍的内容而准备的。</p>\n<h1 id=\"index.vue\">index.vue<a title=\"#index.vue\" href=\"#index.vue\"></a></h1>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">&lt;template&gt;<br>\t&lt;view&gt;<br>\t\t&lt;text&gt;&#123;&#123;title&#125;&#125;&lt;/text&gt;<br>\t&lt;/view&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>\texport default &#123;<br>\t\tdata() &#123;<br>\t\t\treturn &#123;<br>\t\t\t\ttitle: &#x27;首页页面&#x27;<br>\t\t\t&#125;<br>\t\t&#125;<br>\t&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>\n<h1 id=\"account.vue\">account.vue<a title=\"#account.vue\" href=\"#account.vue\"></a></h1>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">&lt;template&gt;<br>\t&lt;view&gt;<br>\t\t&lt;text&gt;&#123;&#123; title &#125;&#125;&lt;/text&gt;<br>\t&lt;/view&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>\texport default &#123;<br>\t\tdata() &#123;<br>\t\t\treturn &#123;<br>\t\t\t\ttitle: &#x27;账号页面&#x27;<br>\t\t\t&#125;<br>\t\t&#125;<br>\t&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>\n<p>嗯，好，页面创建好了，接下来还要做一件事情就是处理一下 <code>pages.json</code> 配置一下 <code>tabBar</code> 这个 tabBar 的配置直接拷贝之前的内容即可，内容如下，很简单就是配置了首页和账号的 tabBar 与首页与账号的页面路由配置：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs json\"><span class=\"hljs-punctuation\">&#123;</span><br>\t<span class=\"hljs-attr\">&quot;pages&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><br>\t\t<span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t<span class=\"hljs-attr\">&quot;path&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/index/index&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t\t<span class=\"hljs-attr\">&quot;style&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t\t<span class=\"hljs-attr\">&quot;navigationBarTitleText&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;首页&quot;</span><br>\t\t\t<span class=\"hljs-punctuation\">&#125;</span><br>\t\t<span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t<span class=\"hljs-attr\">&quot;path&quot;</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/account/account&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t\t<span class=\"hljs-attr\">&quot;style&quot;</span> <span class=\"hljs-punctuation\">:</span> <br>\t\t\t<span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t\t<span class=\"hljs-attr\">&quot;navigationBarTitleText&quot;</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;账号&quot;</span><br>\t\t\t<span class=\"hljs-punctuation\">&#125;</span><br>\t\t<span class=\"hljs-punctuation\">&#125;</span><br>\t<span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span><br>\t<span class=\"hljs-attr\">&quot;globalStyle&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">&#123;</span><br>\t\t<span class=\"hljs-attr\">&quot;navigationBarTextStyle&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;black&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;navigationBarTitleText&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;uni-app&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;navigationBarBackgroundColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#F8F8F8&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;backgroundColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#F8F8F8&quot;</span><br>\t<span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">,</span><br>\t<span class=\"hljs-attr\">&quot;tabBar&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">&#123;</span><br>\t\t<span class=\"hljs-attr\">&quot;color&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#7A7E83&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;selectedColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#3cc51f&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;borderStyle&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;black&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;backgroundColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#ffffff&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t<span class=\"hljs-attr\">&quot;list&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t<span class=\"hljs-attr\">&quot;pagePath&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/index/index&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t\t<span class=\"hljs-attr\">&quot;text&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;首页&quot;</span><br>\t\t<span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-punctuation\">&#123;</span><br>\t\t\t<span class=\"hljs-attr\">&quot;pagePath&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/account/account&quot;</span><span class=\"hljs-punctuation\">,</span><br>\t\t\t<span class=\"hljs-attr\">&quot;text&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;账号&quot;</span><br>\t\t<span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">]</span><br>\t<span class=\"hljs-punctuation\">&#125;</span><br><span class=\"hljs-punctuation\">&#125;</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"步入正题\">步入正题<a title=\"#步入正题\" href=\"#步入正题\"></a></h1>\n<p>好了，经过前面的几步之后，我们的环境已经没有问题了，我自行运行测试过了，没问题之后就可以来看全局样式与局部样式了。</p>\n<h2 id=\"全局样式\">全局样式<a title=\"#全局样式\" href=\"#全局样式\"></a></h2>\n<p>首先我们抛出第一个问题，就是我们全局样式写到什么地方？其实是写到 App.vue 当中：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231206234915525-283331663.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"局部样式\">局部样式<a title=\"#局部样式\" href=\"#局部样式\"></a></h2>\n<p>再来看看局部样式，那么局部的样式写到哪呢，我相信大家或许已经猜到了，没错就是写到每个页面自己当中即可，因为每个页面当中是不是都有一个 style，这个标签当中编写的样式就是我们的一个叫做局部样式。</p>\n<h1 id=\"注意点\">注意点<a title=\"#注意点\" href=\"#注意点\"></a></h1>\n<blockquote>\n<ul>\n<li>还有一些注意点我们需要了解一下，过去大家学习 Vue 的时候，是不是都知道 style 标签是可以指定 CSS 样式所使用的语言，例如有 Scss，Less，还是说用 stylus,一般情况下我们用 Scss。</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>过去大家学习 Vue 的时候, 在 style 标签位置是不是还可以用 scoped 来指定当中编写的样式是全局样式还是局部样式</li>\n</ul>\n</blockquote>\n<p>注意点：</p>\n<ul>\n<li>（全局样式）全局样式的 style 上不能写 scoped, 如果你写了那么很遗憾是无效的</li>\n<li>（局部样式）局部样式的 style 上不用写 scoped，也是局部的</li>\n</ul>\n<h1 id=\"验证\">验证<a title=\"#验证\" href=\"#验证\"></a></h1>\n<p>说了，这么多知道在哪编写全局样式与局部样式之后，我们来写一下吧，实战动手一下，这样更加的可以体会到。</p>\n<p>首先来看我们的全局样式，例如我有 <code>title</code> 这么一个 class 类名，然后我分别给首页与账号页面进行使用，我只在 App.vue 的 style 中编写了这个 title 类名的样式，那么两个组件所使用的就是 App.vue 中的，因为两个组件各自都没有编写自己的样式所以会使用全局的样式进行渲染。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207000422641-980303474.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>打开浏览器进行查看，即可验证我这么一个说法是正确的。</p>\n<p>看完了全局样式，接下来就是局部样式了，很简单，我们直接在首页的 style 中编写一下 title 的样式即可：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207000637692-463597325.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>打开浏览器，查看，首页的文字是蓝色的 blue：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207000710953-863414371.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>而我们的账号页面文字是红色的：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207000729908-870981286.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>通过自行浏览器查看，就可以明确的看到首页使用的是自己局部的样式，而账号页面使用的是全局的样式。</p>\n<p>好，通过如上的示例介绍，了解完了在哪编写我们的一个全局样式，在哪编写我们这个局部样式，以及全局样式和局部样式的一个注意点，接下来还有一个文件，是我本次文章要介绍的内容，就是 <code>uni.scss</code> 这个文件。</p>\n<h1 id=\"uni.scss\">uni.scss<a title=\"#uni.scss\" href=\"#uni.scss\"></a></h1>\n<p>这个文件有什么作用呢？这个文件是专门用于保存全局的样式 <code>变量</code> 的。</p>\n<p>打开文件里面有一段介绍:</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">/**<br> * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能<br> *<br> * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件<br> */<br></code></pre></td></tr></table></figure>\n<p>通过 <code>同时无需 import 这个文件</code> 这句话得出这是一个定义了全局的 scss 样式变量文件。</p>\n<p>在这个文件中，我们常做的事情就 3件事：</p>\n<ol>\n<li>定义全局的 scss 样式变量</li>\n<li>通过修改系统内置的 scss 样式变量来定制组件的样式</li>\n<li>通过修改系统内置的 scss 样式变量来定制扩展组件的样式</li>\n</ol>\n<p>我相信第一点大家都不会有什么疑问，主要针对第二点与第三点，我来给大家举几个例子。</p>\n<p>先来看 <code>第二点</code>，过去我们在开发系统当中是不是有 button 这么一个组件，那么在 UniApp 当中他也提供了 button，但是他提供的 button 是自带一套 UI 样式的，例如按钮的文字边距，按钮的样式，按钮的点击颜色等等，这个时候你要是想更改这些属性，例如按钮的颜色，你只需要更改这个系统内置的 scss 变量的颜色值即可达到更改。</p>\n<p>第三点，过去大家学习 Vue，Vue 中有内置组件，或者 Element 也有内置组件，Element 是基于 Vue 来定制了一套自己的内置组件，那么在 UniApp 当中也是一样的，UniApp 当中有自己的内置组件（这里说的是我们的第二点）。</p>\n<p>那么除了有自己的一些内置组件，他还有一套自己的扩展组件, 他这套扩展就相当于 Element。</p>\n<p>这个时候可以来打开 UniApp 的官网：<a href=\"https://uniapp.dcloud.net.cn/component/\" target=\"_blank\">组件使用的入门教程 | uni-app官网 (dcloud.net.cn)</a></p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207002643029-395534644.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>这个 uni-ui 相当于就是饿了么框架，就是在原有的组件上面又扩展了一套组件，这些组件的样式呢，都可以在 uni.scss 中修改和内置组件是一样的，只不过是同一个人开发的，而 Vue 的内置组件，和饿了么是不同人开发的。</p>\n<p>而 UniApp 里面它的内置组件和它扩展组件是同一个团队开发的，就这么简单。</p>\n<p>首先我们来看第一件事，后面的两件事之后再说。</p>\n<h2 id=\"第一件事\">第一件事<a title=\"#第一件事\" href=\"#第一件事\"></a></h2>\n<ul>\n<li>定义全局的 scss 样式变量</li>\n</ul>\n<p>如果你不知道可以在 uni.scss 中定义全局 scss 变量，你的做法，可能是在 static 中定义全局变量 scss 文件, 然后在 app.vue 中导入。</p>\n<p>注意：如果你导入的是 scss 文件，那么 style 上必须指定 lang 为 scss 才可以。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207004420657-1007822643.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p><code>.css</code> 文件我这里略过了，和 <code>.scss</code> 文件一样，如上的这个示例是你在不知道可以在 uni.scss 中定义的情况下，那么知道了之后，你就可以不用这么写了，改造一下之前的代码，使用定义在 uni.scss 替代，删除在 app.vue 导入 base.scss 的代码，将颜色变量转移到 uni.scss 中然后查看效果即可。</p>\n<blockquote>\n<p>注意：如果你更改了 UniApp 最外层的文件是需要重新重启项目的</p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207004701933-376514769.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>不然你会发现，控制台报错了：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207004725825-1063226821.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>重启项目就可以看到我们在 app.vue 中并且没有导入 scss 颜色变量就可以使用了。</p>\n<p>到此为止。在哪编写全局样式在哪编写局部样式，是否支持导入样式，以及全局的一些样式变量放到什么地方就给大家介绍完毕了 End。</p>\n<h1 id=\"最后\">最后<a title=\"#最后\" href=\"#最后\"></a></h1>\n<p>大家好我是 BNTang, 一个热爱分享的技术的开发者，如果大家觉得我的文章对你有帮助的话，可以关注我的公众号 <code>JavaBoyL</code>，我会在公众号中分享一些IT技术和一些个人的见解，谢谢大家的支持。</p>\n<blockquote>\n<p><a href=\"https://cloud.tencent.com/developer/article/2366050?from_column=20421&amp;from=20421\" target=\"_blank\">我正在参与2023腾讯技术创作特训营第四期有奖征文，快来和我瓜分大奖！</a></p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202311/2105804-20231129232539490-1458223711.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"uni-app-全局数据和局部数据","link":"2023/12/07/Uniapp/06-uni-app-全局数据和局部数据"},"next":{"title":"云数据库代码新增","link":"2023/12/03/Web/微信小程序/云开发/64-云数据库代码删除"},"plink":"http://example.com/2023/12/06/Uniapp/05-uni-app全局样式和局部样式/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"搭建演示环境","title":"搭建演示环境","index":"2"},{"id":"index.vue","title":"index.vue","index":"3"},{"id":"account.vue","title":"account.vue","index":"4"},{"id":"步入正题","title":"步入正题","index":"5","children":[{"id":"全局样式","title":"全局样式","index":"5.1"},{"id":"局部样式","title":"局部样式","index":"5.2"}]},{"id":"注意点","title":"注意点","index":"6"},{"id":"验证","title":"验证","index":"7"},{"id":"uni.scss","title":"uni.scss","index":"8","children":[{"id":"第一件事","title":"第一件事","index":"8.1"}]},{"id":"最后","title":"最后","index":"9"}],"reading_time":"2503 words in 17 min"}