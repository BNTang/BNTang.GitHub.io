{"title":"MongoDB-文档之间关系","date":"2022-09-04T05:42:23.000Z","date_formatted":{"ll":"Sep 4, 2022","L":"09/04/2022","MM-DD":"09-04"},"link":"2022/09/04/MongoDB/索引/MongoDB4.x-数据模型/01-MongoDB-文档之间关系","tags":["MongoDB"],"updated":"2022-09-04T05:44:05.841Z","content":"<h1 id=\"文档之间关系\">文档之间关系<a title=\"#文档之间关系\" href=\"#文档之间关系\"></a></h1>\n<p>MongoDB对于文档的格式并没有强制性的要求, 但不等于我们不能在文档中表达数据的关系，在MongoDB中我们可以通过 ‘内嵌式结构’ 和 ‘规范式结构’ 来表达文档之间的关系。</p>\n<h1 id=\"内嵌式结构\">内嵌式结构<a title=\"#内嵌式结构\" href=\"#内嵌式结构\"></a></h1>\n<p>在一个文档中又包含了另一个文档, 我们就称之为内嵌式结构,例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs json\"><span class=\"hljs-punctuation\">&#123;</span><br>    name<span class=\"hljs-punctuation\">:</span>&#x27;zs&#x27;<span class=\"hljs-punctuation\">,</span><br>    age<span class=\"hljs-punctuation\">:</span>&#x27;<span class=\"hljs-number\">18</span>&#x27;<span class=\"hljs-punctuation\">,</span><br>    card<span class=\"hljs-punctuation\">:</span><span class=\"hljs-punctuation\">&#123;</span><br>        num<span class=\"hljs-punctuation\">:</span>&#x27;<span class=\"hljs-number\">420626200002023556</span>&#x27;<span class=\"hljs-punctuation\">,</span><br>        date<span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">88</span><br>    <span class=\"hljs-punctuation\">&#125;</span><br><span class=\"hljs-punctuation\">&#125;</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"规范式结构\">规范式结构<a title=\"#规范式结构\" href=\"#规范式结构\"></a></h1>\n<p>将文档存储在不同的集合中, 然后通过某一个字段来建立文档之间的关系, 我们就称之为规范式, 例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs json\"><span class=\"hljs-punctuation\">&#123;</span><br>    _id<span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">1</span><span class=\"hljs-punctuation\">,</span><br>    num<span class=\"hljs-punctuation\">:</span>&#x27;<span class=\"hljs-number\">420626200002023556</span>&#x27;<span class=\"hljs-punctuation\">,</span><br>    date<span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">88</span><br><span class=\"hljs-punctuation\">&#125;</span><br><span class=\"hljs-punctuation\">&#123;</span><br>    name<span class=\"hljs-punctuation\">:</span>&#x27;zs&#x27;<span class=\"hljs-punctuation\">,</span><br>    age<span class=\"hljs-punctuation\">:</span>&#x27;<span class=\"hljs-number\">18</span>&#x27;<span class=\"hljs-punctuation\">,</span><br>    cardId<span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">1</span><br><span class=\"hljs-punctuation\">&#125;</span><br></code></pre></td></tr></table></figure>","prev":{"title":"MongoDB-一对多关系","link":"2022/09/04/MongoDB/索引/MongoDB4.x-数据模型/03-MongoDB-一对多关系"},"next":{"title":"MongoDB-一对一关系","link":"2022/09/04/MongoDB/索引/MongoDB4.x-数据模型/02-MongoDB-一对一关系"},"plink":"http://example.com/2022/09/04/MongoDB/索引/MongoDB4.x-数据模型/01-MongoDB-文档之间关系/","toc":[{"id":"文档之间关系","title":"文档之间关系","index":"1"},{"id":"内嵌式结构","title":"内嵌式结构","index":"2"},{"id":"规范式结构","title":"规范式结构","index":"3"}],"reading_time":"191 words in 1 min"}