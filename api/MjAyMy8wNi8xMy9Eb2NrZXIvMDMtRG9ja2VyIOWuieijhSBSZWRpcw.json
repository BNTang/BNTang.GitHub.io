{"title":"Docker 安装 Redis","date":"2023-06-13T14:24:19.000Z","date_formatted":{"ll":"Jun 13, 2023","L":"06/13/2023","MM-DD":"06-13"},"link":"2023/06/13/Docker/03-Docker 安装 Redis","tags":["Docker"],"updated":"2023-06-13T15:00:26.646Z","content":"<h1 id=\"创建挂载文件\">创建挂载文件<a title=\"#创建挂载文件\" href=\"#创建挂载文件\"></a></h1>\n<p>创建目录:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">mkdir</span> -p /usr/redis/conf<br></code></pre></td></tr></table></figure>\n<p>创建文件:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">touch</span> /usr/redis/conf/redis.conf<br></code></pre></td></tr></table></figure>\n<h1 id=\"安装-redis\">安装 Redis<a title=\"#安装-redis\" href=\"#安装-redis\"></a></h1>\n<p>设置密码并启动 Redis，首先进入 redis 挂载目录:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cd</span> /usr/redis<br></code></pre></td></tr></table></figure>\n<p>创建启动文件:</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">cat &lt;&lt;EOF&gt; start.sh<br>#!/bin/bash<br>docker stop redis<br>docker rm redis<br>docker run -d \\\\<br>  --name redis \\\\<br>  -p 6380:6379 \\\\<br>  -v /usr/redis/data:/data \\\\<br>  -v /usr/redis/conf/redis.conf:/etc/redis/redis.conf \\\\<br>  --restart=always \\\\<br>  --log-opt max-size=100m --log-opt max-file=2 \\\\<br>  redis redis-server /etc/redis/redis.conf \\\\<br>  --appendonly yes  --requirepass bntang<br>EOF<br></code></pre></td></tr></table></figure>\n<p>自己改一下用户名和密码：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">vim start.sh<br></code></pre></td></tr></table></figure>\n<h2 id=\"启动\">启动<a title=\"#启动\" href=\"#启动\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sh start.sh<br></code></pre></td></tr></table></figure>\n<h1 id=\"参考文档\">参考文档<a title=\"#参考文档\" href=\"#参考文档\"></a></h1>\n<blockquote>\n<ul>\n<li><a href=\"https://www.yuque.com/nuanhua/sr1fgi/aixpmg\" target=\"_blank\">https://www.yuque.com/nuanhua/sr1fgi/aixpmg</a></li>\n</ul>\n</blockquote>\n","prev":{"title":"TienChin 代码格式化-项目结构大改造","link":"2023/06/15/项目/TienChin 健身系统/2023-6-11/02-TienChin 代码格式化-项目结构大改造"},"next":{"title":"Docker 安装 MySQL8 数据库","link":"2023/06/12/Docker/02-Docker安装MYSQL8数据库"},"plink":"http://example.com/2023/06/13/Docker/03-Docker 安装 Redis/","toc":[{"id":"创建挂载文件","title":"创建挂载文件","index":"1"},{"id":"安装-redis","title":"安装 Redis","index":"2","children":[{"id":"启动","title":"启动","index":"2.1"}]},{"id":"参考文档","title":"参考文档","index":"3"}],"reading_time":"162 words in 1 min"}