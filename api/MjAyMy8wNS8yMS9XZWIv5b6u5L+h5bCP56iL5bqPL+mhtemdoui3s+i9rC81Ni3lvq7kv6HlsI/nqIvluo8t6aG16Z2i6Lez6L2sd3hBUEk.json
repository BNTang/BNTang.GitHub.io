{"title":"微信小程序-页面跳转wxAPI","date":"2023-05-21T07:12:04.000Z","date_formatted":{"ll":"May 21, 2023","L":"05/21/2023","MM-DD":"05-21"},"link":"2023/05/21/Web/微信小程序/页面跳转/56-微信小程序-页面跳转wxAPI","tags":["微信小程序"],"updated":"2023-05-21T07:27:03.403Z","content":"<p>官方文档地址：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html</a></p>\n<h1 id=\"wx.navigateto(object-object)\">wx.navigateTo(Object object)<a title=\"#wx.navigateto(object-object)\" href=\"#wx.navigateto(object-object)\"></a></h1>\n<p>更改首页代码，添加一个按钮，绑定一个事件的点击：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--index.wxml--&gt;<br>&lt;text&gt;首页&lt;/text&gt;<br>&lt;button bindtap=&quot;toLog&quot;&gt;跳转到日志页面&lt;/button&gt;<br></code></pre></td></tr></table></figure>\n<p>在监听的方法当中使用 wx.navigateTo(Object object) 进行页面的跳转与传参：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// index.js</span><br><span class=\"hljs-title class_\">Page</span>(&#123;<br>  <span class=\"hljs-title function_\">toLog</span>(<span class=\"hljs-params\"></span>) &#123;<br>    wx.<span class=\"hljs-title function_\">navigateTo</span>(&#123;<br>      <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/pages/logs/logs?name=BNTang&amp;age=18&#x27;</span>,<br>    &#125;)<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>\n<h1 id=\"wx.navigateback(object-object)\">wx.navigateBack(Object object)<a title=\"#wx.navigateback(object-object)\" href=\"#wx.navigateback(object-object)\"></a></h1>\n<p>关闭当前页面，返回上一页面或多级页面。可通过 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/api/getCurrentPages.html\" target=\"_blank\">getCurrentPages</a> 获取当前的页面栈，决定需要返回几层。</p>\n<p>更改日志页面代码，添加一个按钮，绑定一个事件的点击：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--logs.wxml--&gt;<br>&lt;text&gt;日志页面&lt;/text&gt;<br>&lt;button bindtap=&quot;myNavigatorBack&quot;&gt;返回上一个页面&lt;/button&gt;<br></code></pre></td></tr></table></figure>\n<p>在监听的方法当中使用 wx.navigateBack(Object object) 进行页面的返回(页面栈出栈)：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// logs.js</span><br><span class=\"hljs-title class_\">Page</span>(&#123;<br>  <span class=\"hljs-title function_\">myNavigatorBack</span>(<span class=\"hljs-params\"></span>) &#123;<br>    wx.<span class=\"hljs-title function_\">navigateBack</span>(&#123;&#125;)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>\n<p>在 navigateBack 当中有一个属性我们需要进行了解一下就是 <code>delta</code>:</p>\n<p>返回的页面数，如果 delta 大于现有页面数，则返回到首页。如果我们现在的跳转关系如下：</p>\n<p>首页 -&gt; 日志 -&gt; 测试页面, 这个时候我们想要在测试页面直接返回到首页就需要利用 dalta 来指定返回的页面数即可，也就是需要出栈的页面，如下图，如果我们设置为 2，Test 与 日志都进行出栈，那么我们看到的就是首页了。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230521152522237-895620743.png\" alt=\"image-20230521152521486\" loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"微信小程序-页面跳转数据传递","link":"2023/05/21/Web/微信小程序/页面跳转/57-微信小程序-页面跳转数据传递"},"next":{"title":"微信小程序-页面跳转navigator组件","link":"2023/05/21/Web/微信小程序/页面跳转/55-微信小程序-页面跳转navigator组件"},"plink":"http://example.com/2023/05/21/Web/微信小程序/页面跳转/56-微信小程序-页面跳转wxAPI/","toc":[{"id":"wx.navigateto(object-object)","title":"wx.navigateTo(Object object)","index":"1"},{"id":"wx.navigateback(object-object)","title":"wx.navigateBack(Object object)","index":"2"}],"reading_time":"390 words in 3 min"}