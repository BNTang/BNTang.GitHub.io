{"title":"uni-app-全局数据和局部数据","date":"2023-12-06T16:51:16.000Z","date_formatted":{"ll":"Dec 7, 2023","L":"12/07/2023","MM-DD":"12-07"},"link":"2023/12/07/Uniapp/06-uni-app-全局数据和局部数据","tags":["Uniapp"],"updated":"2023-12-07T16:17:46.413Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231203180400903-1506982067.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<ul>\n<li>好，经过上个章节的介绍完毕之后，了解了一下 uni-app-全局样式和局部样式</li>\n<li>那么了解完了全局样式和局部样式之后，这篇文章我再来给大家介绍一下 UniApp 中全局数据和局部数据</li>\n</ul>\n<h1 id=\"搭建演示环境\">搭建演示环境<a title=\"#搭建演示环境\" href=\"#搭建演示环境\"></a></h1>\n<p>创建一个全新的项目：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207223141332-443855062.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>然后在配置一下，微信小程序的 AppId，直接去之前的项目中拷贝一下即可，找到之前项目的 <code>manifest.json</code> 文件，然后选择微信小程序配置，复制一下即可：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207223241507-51446947.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>经过如上的这么一顿操作之后，就可以搭建完毕运行环境，与编码环境</li>\n</ul>\n<h1 id=\"步入正题\">步入正题<a title=\"#步入正题\" href=\"#步入正题\"></a></h1>\n<h2 id=\"全局数据\">全局数据<a title=\"#全局数据\" href=\"#全局数据\"></a></h2>\n<ul>\n<li>先来看一下全局数据，全局数据在微信小程序中怎么搞？在微信小数据中是不是有个 <code>globalData</code></li>\n<li>那么在 UniApp 当中也有 globalData，回到官方文档，然后找到 <code>全局文件</code></li>\n<li>在全局文件中找到 <code>App.vue/uvue</code></li>\n<li>点击 <code>App.vue/uvue</code> 就可以发现这里有 <code>globalData</code></li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207224035785-1543474247.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<blockquote>\n<p>官方介绍：</p>\n<ul>\n<li>小程序有 globalData，这是一种简单的全局变量机制。这套机制在uni-app里也可以使用，并且全端通用</li>\n<li>当然vue框架的全局变量，另有其他方式定义</li>\n</ul>\n</blockquote>\n<ul>\n<li>好了看完之后我们来验证一下，官方说明了 <strong>globalData</strong> 是定义在 <strong>App.vue 中</strong>，所以我们也需要这么来写</li>\n</ul>\n<h3 id=\"定义全局数据\">定义全局数据<a title=\"#定义全局数据\" href=\"#定义全局数据\"></a></h3>\n<ul>\n<li>打开新创建好的项目然后，找到 App.vue 文件</li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207224645703-1256236407.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>我定义了两个属性分别是 name, age</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">globalData</span>: &#123;  <br>    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;BNTang&#x27;</span>,<br>    <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">18</span><br>&#125;<br></code></pre></td></tr></table></figure>\n<h3 id=\"获取全局数据\">获取全局数据<a title=\"#获取全局数据\" href=\"#获取全局数据\"></a></h3>\n<ul>\n<li>我们定好了数据，是不是要进行使用</li>\n<li>使用方式在官方也是有介绍的，官方是这么说的：js 中操作 globalData 的方式通过 <code>getApp().globalData.text = 'test'</code></li>\n</ul>\n<blockquote>\n<p>首页</p>\n</blockquote>\n<ul>\n<li>我们在首页输出打印一下全局的数据就相当于使用了好吧，更改 index.vue</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">onLoad() &#123;<br>\tconsole.log(&quot;全局数据: &quot;, JSON.stringify(getApp().globalData));<br>&#125;<br></code></pre></td></tr></table></figure>\n<h3 id=\"测试\">测试<a title=\"#测试\" href=\"#测试\"></a></h3>\n<blockquote>\n<p>Web端</p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207230821827-951035770.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>在官方文档中，提到了 <code>并且全端通用</code>，所以我这里还需要在运行在微信小程序上看看效果</li>\n</ul>\n<blockquote>\n<p>微信小程序</p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231207231026671-1098438562.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"总结\">总结<a title=\"#总结\" href=\"#总结\"></a></h1>\n<blockquote>\n<ul>\n<li>使用全局数据，只需要在 App.vue 当中通过 globalData 来保存数据</li>\n<li>然后在其他页面当中通过 <code>getApp().globalData</code> 来获取保存的全局数据</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>这里大家可以看到我的文章目录中没有体现局部数据，局部数据其实是和 vue 一样，在自己页面的 data 中返回一个对象，然后在这个对象中定义的属性就是局部数据，没什么好说的所以我这里就没有单独起一个 title 来进行介绍。</p>\n</blockquote>\n<h1 id=\"最后\">最后<a title=\"#最后\" href=\"#最后\"></a></h1>\n<blockquote>\n<p>大家好我是 BNTang, 一个热爱分享的技术的开发者，如果大家觉得我的文章对你有帮助的话，可以关注我的公众号 <code>JavaBoyL</code>，我会在公众号中分享一些IT技术和一些个人的见解，谢谢大家的支持</p>\n</blockquote>\n<hr>\n<blockquote>\n<p><a href=\"https://cloud.tencent.com/developer/article/2366050?from_column=20421&amp;from=20421\" target=\"_blank\">我正在参与2023腾讯技术创作特训营第四期有奖征文，快来和我瓜分大奖！</a></p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202311/2105804-20231129232539490-1458223711.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"uni-app-内置组件","link":"2023/12/07/Uniapp/07-uni-app-内置组件"},"next":{"title":"uni-app全局样式和局部样式","link":"2023/12/06/Uniapp/05-uni-app全局样式和局部样式"},"plink":"http://example.com/2023/12/07/Uniapp/06-uni-app-全局数据和局部数据/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"搭建演示环境","title":"搭建演示环境","index":"2"},{"id":"步入正题","title":"步入正题","index":"3","children":[{"id":"全局数据","title":"全局数据","index":"3.1","children":[{"id":"定义全局数据","title":"定义全局数据","index":"3.1.1"},{"id":"获取全局数据","title":"获取全局数据","index":"3.1.2"},{"id":"测试","title":"测试","index":"3.1.3"}]}]},{"id":"总结","title":"总结","index":"4"},{"id":"最后","title":"最后","index":"5"}],"reading_time":"888 words in 6 min"}