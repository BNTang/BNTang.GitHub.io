{"title":"TienChin 渠道管理-字典原理分析","date":"2023-09-02T02:21:48.000Z","date_formatted":{"ll":"Sep 2, 2023","L":"09/02/2023","MM-DD":"09-02"},"link":"2023/09/02/项目/TienChin 健身系统/2023-6-11/16-TienChin 渠道管理-字典原理分析","tags":["项目"],"updated":"2023-09-17T05:21:04.440Z","content":"<p>在上一节当中，我们使用到了字典来进行翻译我们的渠道类型等等字段，那么这一节我们就来分析一下字典的原理。</p>\n<p>从代码方面先开始分析，我们先来看一下字典的定义，我们是在如下图当中编写了我们的渠道类型，使用，proxy.useDict 进行的请求数据，proxy 相比之前的 Vue2，其实就是 Vue 本身，相当于 Vue2 当中的 this。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230902110306963-155526610.png\" alt=\"img\" loading=\"lazy\" class=\"φbp\"></p>\n<p>我们继续往下看，查看 proxy.useDict 内部是什么样子的，我们可以看到，其实就是调用了一个方法，在 main.js 中导入了 proxy.useDict （全局挂载到了 Vue.prototype 上面，所以我们在任何一个组件当中都可以使用 this.$useDict 进行调用）</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230902110523349-119373072.png\" alt=\"img\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> &#123; useDict &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;@/utils/dict&#x27;</span><br></code></pre></td></tr></table></figure>\n<p>可以看到从 utils/dict 导入的一个方法，我们继续往下看，我们可以看到，其实就是调用了一个方法，这个方法是在 utils/dict.js 当中定义的，我们继续往下看。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230902110727792-1802706923.png\" alt=\"img\" loading=\"lazy\" class=\"φbp\"></p>\n<p>到了这里就可以完全知道了，其实就是根据我们传入的 dict_type 进行的网络请求，获取对应的字典数据，然后重新组装了一下返回给了我们进行使用。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> &#123; getDicts &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;@/api/system/dict/data&#x27;</span><br></code></pre></td></tr></table></figure>\n<p>从 api/system/dict/data 导入了一个方法，我们继续往下看，我们可以看到，其实就是调用了一个方法，这个方法是在 api/system/dict/data.js 当中定义的，我们继续往下看。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230902110850149-1286349018.png\" alt=\"img\" loading=\"lazy\" class=\"φbp\"></p>\n<p>上图中就可以完全知道原理了，通过地址就可以找到后台的接口地址，后台的查询我这里就不再带着去查看了，我相信如果是来学习该项目的人大部分应该都是看得懂后台的代码的，这里就不再带着去查看了。</p>\n<p>最后修改一下，<code>&lt;script setup name=&quot;Channel&quot;&gt;</code> 原先是 <code>&lt;script setup name=&quot;Role&quot;&gt;</code>。</p>\n","prev":{"title":"TienChin 渠道管理-权限分配","link":"2023/09/02/项目/TienChin 健身系统/2023-6-11/17-TienChin 渠道管理-权限分配"},"next":{"title":"TienChin 渠道管理-配置字典常量","link":"2023/08/30/项目/TienChin 健身系统/2023-6-11/15-TienChin 渠道管理-配置字典常量"},"plink":"http://example.com/2023/09/02/项目/TienChin 健身系统/2023-6-11/16-TienChin 渠道管理-字典原理分析/","reading_time":"544 words in 4 min"}