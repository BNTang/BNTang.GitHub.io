{"title":"TienChin 渠道管理-前端展示渠道信息","date":"2023-08-30T15:33:12.000Z","date_formatted":{"ll":"Aug 30, 2023","L":"08/30/2023","MM-DD":"08-30"},"link":"2023/08/30/项目/TienChin 健身系统/2023-6-11/14-TienChin 渠道管理-前端展示渠道信息","tags":["项目"],"updated":"2023-09-17T05:12:28.164Z","content":"<p>在编写 Vue 项目的时候我们可以使用 IDEA 当中提供的一个工具叫做 structure，也就是说可以很轻松的列举出当前 Vue 文件的大致结构，点那个就会跳转到对应的地方。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202308/2105804-20230830233509815-1380086586.png\" alt=\"image-20230830233509289\" loading=\"lazy\" class=\"φbp\"></p>\n<p>简简单单介绍一个编写Vue时的一个小技巧，那么接下来进入核心内容，展示渠道信息的开发。</p>\n<p>在 api 文件夹模块当中新建一个 tienchin 的文件夹，在当中编写一个 channel.js:</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230917130826028-1567404086.png\" alt=\"image-20230917130825100\" loading=\"lazy\" class=\"φbp\"></p>\n<p>channel.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">import</span> request <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;@/utils/request&#x27;</span><br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 查询渠道列表</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> query 查询条件参数</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@returns</span> &#123;<span class=\"hljs-type\">*</span>&#125; 查询结果</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">listChannel</span>(<span class=\"hljs-params\">query</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">request</span>(&#123;<br>        <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/tienchin/channel/list&#x27;</span>,<br>        <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;get&#x27;</span>,<br>        <span class=\"hljs-attr\">params</span>: query<br>    &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// 查询渠道详细</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getInfo</span>(<span class=\"hljs-params\">channelId</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">request</span>(&#123;<br>        <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/tienchin/channel/&#x27;</span> + channelId,<br>        <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;get&#x27;</span><br>    &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// 新增渠道</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addChannel</span>(<span class=\"hljs-params\">data</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">request</span>(&#123;<br>        <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/tienchin/channel&#x27;</span>,<br>        <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;post&#x27;</span>,<br>        <span class=\"hljs-attr\">data</span>: data<br>    &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// 修改渠道</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateChannel</span>(<span class=\"hljs-params\">data</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">request</span>(&#123;<br>        <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/tienchin/channel&#x27;</span>,<br>        <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;put&#x27;</span>,<br>        <span class=\"hljs-attr\">data</span>: data<br>    &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// 删除渠道</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">delChannel</span>(<span class=\"hljs-params\">channelIds</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">request</span>(&#123;<br>        <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&#x27;/tienchin/channel/&#x27;</span> + channelIds,<br>        <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;delete&#x27;</span><br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>主要的就是编写了一下对接后台的 api。</p>\n<p>接下来就是页面的调用代码：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230917131035095-898551640.png\" alt=\"image-20230917131034500\" loading=\"lazy\" class=\"φbp\"></p>\n<p>index.vue:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">&lt;template&gt;<br>  <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;app-container&quot;</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form</span> <span class=\"hljs-attr\">:model</span>=<span class=\"hljs-string\">&quot;queryParams&quot;</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">&quot;queryRef&quot;</span> <span class=\"hljs-attr\">v-show</span>=<span class=\"hljs-string\">&quot;showSearch&quot;</span> <span class=\"hljs-attr\">:inline</span>=<span class=\"hljs-string\">&quot;true&quot;</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道名称&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;channelName&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-input</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;queryParams.channelName&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;请输入渠道名称&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">clearable</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 240px&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">keyup.enter</span>=<span class=\"hljs-string\">&quot;handleQuery&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        /&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道状态&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;status&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-select</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;queryParams.status&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;渠道状态&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">clearable</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 240px&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-option</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;dict in channel_status&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:label</span>=<span class=\"hljs-string\">&quot;dict.label&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:value</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          /&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-select</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道类型&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;type&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-select</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;queryParams.type&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;渠道类型&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">clearable</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 240px&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-option</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;dict in channel_type&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:label</span>=<span class=\"hljs-string\">&quot;dict.label&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">:value</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          /&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-select</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;创建时间&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 308px&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-date-picker</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;dateRange&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">value-format</span>=<span class=\"hljs-string\">&quot;YYYY-MM-DD&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;daterange&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">range-separator</span>=<span class=\"hljs-string\">&quot;-&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">start-placeholder</span>=<span class=\"hljs-string\">&quot;开始日期&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">end-placeholder</span>=<span class=\"hljs-string\">&quot;结束日期&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-date-picker</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;primary&quot;</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Search&quot;</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleQuery&quot;</span>&gt;</span>搜索<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Refresh&quot;</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;resetQuery&quot;</span>&gt;</span>重置<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-row</span> <span class=\"hljs-attr\">:gutter</span>=<span class=\"hljs-string\">&quot;10&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;mb8&quot;</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-col</span> <span class=\"hljs-attr\">:span</span>=<span class=\"hljs-string\">&quot;1.5&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;primary&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">plain</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Plus&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleAdd&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:create&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span>新增</span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-col</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-col</span> <span class=\"hljs-attr\">:span</span>=<span class=\"hljs-string\">&quot;1.5&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;success&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">plain</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Edit&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">:disabled</span>=<span class=\"hljs-string\">&quot;single&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleUpdate&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:edit&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span>修改</span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-col</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-col</span> <span class=\"hljs-attr\">:span</span>=<span class=\"hljs-string\">&quot;1.5&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;danger&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">plain</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Delete&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">:disabled</span>=<span class=\"hljs-string\">&quot;multiple&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleDelete&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:remove&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span>删除</span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-col</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-col</span> <span class=\"hljs-attr\">:span</span>=<span class=\"hljs-string\">&quot;1.5&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;info&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">plain</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Upload&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleImport&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:import&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span>导入</span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-col</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-col</span> <span class=\"hljs-attr\">:span</span>=<span class=\"hljs-string\">&quot;1.5&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;warning&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">plain</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Download&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleExport&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:export&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        &gt;</span>导出</span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-col</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">right-toolbar</span> <span class=\"hljs-attr\">v-model:showSearch</span>=<span class=\"hljs-string\">&quot;showSearch&quot;</span> @<span class=\"hljs-attr\">queryTable</span>=<span class=\"hljs-string\">&quot;getList&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">right-toolbar</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-row</span>&gt;</span></span><br><span class=\"language-xml\"></span><br><span class=\"language-xml\">    <span class=\"hljs-comment\">&lt;!-- 表格数据 --&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table</span> <span class=\"hljs-attr\">v-loading</span>=<span class=\"hljs-string\">&quot;loading&quot;</span> <span class=\"hljs-attr\">:data</span>=<span class=\"hljs-string\">&quot;channelList&quot;</span> @<span class=\"hljs-attr\">selection-change</span>=<span class=\"hljs-string\">&quot;handleSelectionChange&quot;</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;selection&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;55&quot;</span> <span class=\"hljs-attr\">align</span>=<span class=\"hljs-string\">&quot;center&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道编号&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;channelId&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;120&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道名称&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;channelName&quot;</span> <span class=\"hljs-attr\">:show-overflow-tooltip</span>=<span class=\"hljs-string\">&quot;true&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;150&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道类型&quot;</span> <span class=\"hljs-attr\">:show-overflow-tooltip</span>=<span class=\"hljs-string\">&quot;true&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;100&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">default</span>=<span class=\"hljs-string\">&quot;scope&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;(type, index) in channel_type&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          &gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-tag</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;index&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">&quot;type.value === scope.row.type + &#x27;&#x27;&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:type</span>=<span class=\"hljs-string\">&quot;type.elTagType&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span></span><br><span class=\"language-xml\">              &#123;&#123; type.label &#125;&#125;</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-tag</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-table-column</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道状态&quot;</span> <span class=\"hljs-attr\">:show-overflow-tooltip</span>=<span class=\"hljs-string\">&quot;true&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;100&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">default</span>=<span class=\"hljs-string\">&quot;scope&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">              <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;(status, index) in channel_status&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          &gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-tag</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;index&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">&quot;status.value === scope.row.status + &#x27;&#x27;&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:type</span>=<span class=\"hljs-string\">&quot;status.elTagType&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span></span><br><span class=\"language-xml\">              &#123;&#123; status.label &#125;&#125;</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-tag</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-table-column</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;创建人&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;createBy&quot;</span> <span class=\"hljs-attr\">:show-overflow-tooltip</span>=<span class=\"hljs-string\">&quot;true&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;100&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;创建时间&quot;</span> <span class=\"hljs-attr\">align</span>=<span class=\"hljs-string\">&quot;center&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;createTime&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">default</span>=<span class=\"hljs-string\">&quot;scope&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>&#123;&#123; parseTime(scope.row.createTime) &#125;&#125;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-table-column</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;备注信息&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;remark&quot;</span> <span class=\"hljs-attr\">:show-overflow-tooltip</span>=<span class=\"hljs-string\">&quot;true&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;100&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-table-column</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;操作&quot;</span> <span class=\"hljs-attr\">align</span>=<span class=\"hljs-string\">&quot;center&quot;</span> <span class=\"hljs-attr\">class-name</span>=<span class=\"hljs-string\">&quot;small-padding fixed-width&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">default</span>=<span class=\"hljs-string\">&quot;scope&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-tooltip</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;修改&quot;</span> <span class=\"hljs-attr\">placement</span>=<span class=\"hljs-string\">&quot;top&quot;</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">&quot;scope.row.channelId !== 1&quot;</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Edit&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleUpdate(scope.row)&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:edit&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-tooltip</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-tooltip</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;删除&quot;</span> <span class=\"hljs-attr\">placement</span>=<span class=\"hljs-string\">&quot;top&quot;</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">&quot;scope.row.channelId !== 1&quot;</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">&quot;Delete&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;handleDelete(scope.row)&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-hasPermi</span>=<span class=\"hljs-string\">&quot;[&#x27;tienchin:channel:remove&#x27;]&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-tooltip</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-table-column</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-table</span>&gt;</span></span><br><span class=\"language-xml\"></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">pagination</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        <span class=\"hljs-attr\">v-show</span>=<span class=\"hljs-string\">&quot;total &gt; 0&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        <span class=\"hljs-attr\">:total</span>=<span class=\"hljs-string\">&quot;total&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        <span class=\"hljs-attr\">v-model:page</span>=<span class=\"hljs-string\">&quot;queryParams.pageNum&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        <span class=\"hljs-attr\">v-model:limit</span>=<span class=\"hljs-string\">&quot;queryParams.pageSize&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">        @<span class=\"hljs-attr\">pagination</span>=<span class=\"hljs-string\">&quot;getList&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">    /&gt;</span></span><br><span class=\"language-xml\"></span><br><span class=\"language-xml\">    <span class=\"hljs-comment\">&lt;!-- 添加或修改渠道配置对话框 --&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-dialog</span> <span class=\"hljs-attr\">:title</span>=<span class=\"hljs-string\">&quot;title&quot;</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;open&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;500px&quot;</span> <span class=\"hljs-attr\">append-to-body</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">&quot;channelRef&quot;</span> <span class=\"hljs-attr\">:model</span>=<span class=\"hljs-string\">&quot;form&quot;</span> <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">&quot;rules&quot;</span> <span class=\"hljs-attr\">label-width</span>=<span class=\"hljs-string\">&quot;100px&quot;</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道名称&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;channelName&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-input</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;form.channelName&quot;</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;请输入渠道名称&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道状态&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;status&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-radio-group</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;form.status&quot;</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-radio</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;dict in channel_status&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:label</span>=<span class=\"hljs-string\">&quot;parseInt(dict.value)&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span>&#123;&#123; dict.label &#125;&#125;</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-radio</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-radio-group</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;渠道类型&quot;</span> <span class=\"hljs-attr\">prop</span>=<span class=\"hljs-string\">&quot;type&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-radio-group</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;form.type&quot;</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-radio</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">&quot;dict in channel_type&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">&quot;dict.value&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                <span class=\"hljs-attr\">:label</span>=<span class=\"hljs-string\">&quot;parseInt(dict.value)&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">            &gt;</span>&#123;&#123; dict.label &#125;&#125;</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-radio</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-radio-group</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-form-item</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">&quot;备注&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-input</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;form.remark&quot;</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;textarea&quot;</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;请输入内容&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-input</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form-item</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-form</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">footer</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;primary&quot;</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;submitForm&quot;</span>&gt;</span>确 定<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;cancel&quot;</span>&gt;</span>取 消<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-dialog</span>&gt;</span></span><br><span class=\"language-xml\"></span><br><span class=\"language-xml\">    <span class=\"hljs-comment\">&lt;!-- 渠道导入对话框 --&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-dialog</span> <span class=\"hljs-attr\">:title</span>=<span class=\"hljs-string\">&quot;upload.title&quot;</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;upload.open&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;400px&quot;</span> <span class=\"hljs-attr\">append-to-body</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-upload</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">&quot;uploadRef&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:limit</span>=<span class=\"hljs-string\">&quot;1&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">accept</span>=<span class=\"hljs-string\">&quot;.xlsx, .xls&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">&quot;upload.headers&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:action</span>=<span class=\"hljs-string\">&quot;upload.url + &#x27;?updateSupport=&#x27; + upload.updateSupport&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:disabled</span>=<span class=\"hljs-string\">&quot;upload.isUploading&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:on-progress</span>=<span class=\"hljs-string\">&quot;handleFileUploadProgress&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:on-success</span>=<span class=\"hljs-string\">&quot;handleFileSuccess&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">:auto-upload</span>=<span class=\"hljs-string\">&quot;false&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">          <span class=\"hljs-attr\">drag</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">      &gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-icon</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;el-icon--upload&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">upload-filled</span>/&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-icon</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;el-upload__text&quot;</span>&gt;</span>将文件拖到此处，或<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">em</span>&gt;</span>点击上传<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">em</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">tip</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;el-upload__tip text-center&quot;</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;el-upload__tip&quot;</span>&gt;</span></span><br><span class=\"language-xml\">              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-checkbox</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">&quot;upload.updateSupport&quot;</span>/&gt;</span></span><br><span class=\"language-xml\">              是否更新已经存在的渠道数据</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>仅允许导入xls、xlsx格式文件。<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span></span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-link</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;primary&quot;</span> <span class=\"hljs-attr\">:underline</span>=<span class=\"hljs-string\">&quot;false&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;font-size:12px;vertical-align: baseline;&quot;</span></span></span><br><span class=\"hljs-tag\"><span class=\"language-xml\">                     @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;importTemplate&quot;</span>&gt;</span>下载模板</span><br><span class=\"language-xml\">            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-link</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-upload</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> #<span class=\"hljs-attr\">footer</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;primary&quot;</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;submitFileForm&quot;</span>&gt;</span>确 定<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">el-button</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">&quot;upload.open = false&quot;</span>&gt;</span>取 消<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-button</span>&gt;</span></span><br><span class=\"language-xml\">        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br><span class=\"language-xml\">      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span><br><span class=\"language-xml\">    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">el-dialog</span>&gt;</span></span><br><span class=\"language-xml\">  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">setup</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;Channel&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">import</span> &#123;getToken&#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@/utils/auth&quot;</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">import</span> &#123;listChannel, addChannel, getInfo, updateChannel, delChannel&#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@/api/tienchin/channel&quot;</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> &#123;proxy&#125; = <span class=\"hljs-title function_\">getCurrentInstance</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  channel_type,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  channel_status</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125; = proxy.<span class=\"hljs-title function_\">useDict</span>(<span class=\"hljs-string\">&quot;channel_type&quot;</span>, <span class=\"hljs-string\">&quot;channel_status&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> channelList = <span class=\"hljs-title function_\">ref</span>([]);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> open = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-literal\">false</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> loading = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-literal\">true</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> showSearch = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-literal\">true</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> ids = <span class=\"hljs-title function_\">ref</span>([]);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> single = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-literal\">true</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> multiple = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-literal\">true</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> total = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-number\">0</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> title = <span class=\"hljs-title function_\">ref</span>(<span class=\"hljs-string\">&quot;&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> dateRange = <span class=\"hljs-title function_\">ref</span>([]);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> data = <span class=\"hljs-title function_\">reactive</span>(&#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">form</span>: &#123;&#125;,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">queryParams</span>: &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">pageNum</span>: <span class=\"hljs-number\">1</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">pageSize</span>: <span class=\"hljs-number\">10</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">channelName</span>: <span class=\"hljs-literal\">undefined</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-literal\">undefined</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">status</span>: <span class=\"hljs-literal\">undefined</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">rules</span>: &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">channelName</span>: [&#123;<span class=\"hljs-attr\">required</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-attr\">message</span>: <span class=\"hljs-string\">&quot;渠道名称不能为空&quot;</span>, <span class=\"hljs-attr\">trigger</span>: <span class=\"hljs-string\">&quot;blur&quot;</span>&#125;],</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">status</span>: [&#123;<span class=\"hljs-attr\">required</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-attr\">message</span>: <span class=\"hljs-string\">&quot;渠道状态不能为空&quot;</span>, <span class=\"hljs-attr\">trigger</span>: <span class=\"hljs-string\">&quot;blur&quot;</span>&#125;],</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">type</span>: [&#123;<span class=\"hljs-attr\">required</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-attr\">message</span>: <span class=\"hljs-string\">&quot;渠道类型不能为空&quot;</span>, <span class=\"hljs-attr\">trigger</span>: <span class=\"hljs-string\">&quot;blur&quot;</span>&#125;]</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/*** 渠道导入参数 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> upload = <span class=\"hljs-title function_\">reactive</span>(&#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 是否显示弹出层（渠道导入）</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">open</span>: <span class=\"hljs-literal\">false</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 弹出层标题（渠道导入）</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&quot;&quot;</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 是否禁用上传</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">isUploading</span>: <span class=\"hljs-literal\">false</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 是否更新已经存在的渠道数据</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">updateSupport</span>: <span class=\"hljs-number\">0</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 设置上传的请求头部</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">headers</span>: &#123;<span class=\"hljs-title class_\">Authorization</span>: <span class=\"hljs-string\">&quot;Bearer &quot;</span> + <span class=\"hljs-title function_\">getToken</span>()&#125;,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 上传的地址</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-attr\">url</span>: <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">VITE_APP_BASE_API</span> + <span class=\"hljs-string\">&quot;tienchin/channel/importData&quot;</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> &#123;queryParams, form, rules&#125; = <span class=\"hljs-title function_\">toRefs</span>(data);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/**</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 查询渠道列表</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getList</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  loading.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">true</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">listChannel</span>(proxy.<span class=\"hljs-title function_\">addDateRange</span>(queryParams.<span class=\"hljs-property\">value</span>, dateRange.<span class=\"hljs-property\">value</span>)).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">response</span> =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    channelList.<span class=\"hljs-property\">value</span> = response.<span class=\"hljs-property\">rows</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    total.<span class=\"hljs-property\">value</span> = response.<span class=\"hljs-property\">total</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    loading.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 搜索按钮操作 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleQuery</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  queryParams.<span class=\"hljs-property\">value</span>.<span class=\"hljs-property\">pageNum</span> = <span class=\"hljs-number\">1</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 重置按钮操作 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">resetQuery</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  dateRange.<span class=\"hljs-property\">value</span> = [];</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-title function_\">resetForm</span>(<span class=\"hljs-string\">&quot;queryRef&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">handleQuery</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 删除按钮操作 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleDelete</span>(<span class=\"hljs-params\">row</span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-keyword\">const</span> channelIds = row.<span class=\"hljs-property\">channelId</span> || ids.<span class=\"hljs-property\">value</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-property\">$modal</span>.<span class=\"hljs-title function_\">confirm</span>(<span class=\"hljs-string\">&#x27;是否确认删除渠道编号为&quot;&#x27;</span> + channelIds + <span class=\"hljs-string\">&#x27;&quot;的数据项?&#x27;</span>).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">delChannel</span>(channelIds);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    proxy.<span class=\"hljs-property\">$modal</span>.<span class=\"hljs-title function_\">msgSuccess</span>(<span class=\"hljs-string\">&quot;删除成功&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;).<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/**</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 导入按钮操作</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> **/</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleImport</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  upload.<span class=\"hljs-property\">title</span> = <span class=\"hljs-string\">&quot;渠道导入&quot;</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  upload.<span class=\"hljs-property\">open</span> = <span class=\"hljs-literal\">true</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/**文件上传中处理 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">handleFileUploadProgress</span> = (<span class=\"hljs-params\">event, file, fileList</span>) =&gt; &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  upload.<span class=\"hljs-property\">isUploading</span> = <span class=\"hljs-literal\">true</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 文件上传成功处理 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">handleFileSuccess</span> = (<span class=\"hljs-params\">response, file, fileList</span>) =&gt; &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  upload.<span class=\"hljs-property\">open</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  upload.<span class=\"hljs-property\">isUploading</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-property\">$refs</span>[<span class=\"hljs-string\">&quot;uploadRef&quot;</span>].<span class=\"hljs-title function_\">clearFiles</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.$alert(<span class=\"hljs-string\">&quot;&lt;div style=&#x27;overflow: auto;overflow-x: hidden;max-height: 70vh;padding: 10px 20px 0;&#x27;&gt;&quot;</span> + response.<span class=\"hljs-property\">msg</span> + <span class=\"hljs-string\">&quot;&lt;/div&gt;&quot;</span>, <span class=\"hljs-string\">&quot;导入结果&quot;</span>, &#123;<span class=\"hljs-attr\">dangerouslyUseHTMLString</span>: <span class=\"hljs-literal\">true</span>&#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 提交上传文件 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">submitFileForm</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-property\">$refs</span>[<span class=\"hljs-string\">&quot;uploadRef&quot;</span>].<span class=\"hljs-title function_\">submit</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 下载模板操作 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">importTemplate</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-title function_\">download</span>(<span class=\"hljs-string\">&quot;tienchin/channel/importTemplate&quot;</span>, &#123;&#125;, <span class=\"hljs-string\">`channel_template_<span class=\"hljs-subst\">$&#123;<span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Date</span>().getTime()&#125;</span>.xlsx`</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 导出按钮操作 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleExport</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-title function_\">download</span>(<span class=\"hljs-string\">&quot;tienchin/channel/export&quot;</span>, &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    ...queryParams.<span class=\"hljs-property\">value</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;, <span class=\"hljs-string\">`channel_<span class=\"hljs-subst\">$&#123;<span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Date</span>().getTime()&#125;</span>.xlsx`</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/**</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 多选框选中数据</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 点击表格中的第一列的多选框，会触发这个方法</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * <span class=\"hljs-doctag\">@param</span> selection 选中的数据</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleSelectionChange</span>(<span class=\"hljs-params\">selection</span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  ids.<span class=\"hljs-property\">value</span> = selection.<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.<span class=\"hljs-property\">channelId</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  single.<span class=\"hljs-property\">value</span> = selection.<span class=\"hljs-property\">length</span> != <span class=\"hljs-number\">1</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  multiple.<span class=\"hljs-property\">value</span> = !selection.<span class=\"hljs-property\">length</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 重置新增的表单以及其他数据  */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">reset</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  form.<span class=\"hljs-property\">value</span> = &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-comment\">// 渠道名称</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">channelName</span>: <span class=\"hljs-literal\">undefined</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">status</span>: <span class=\"hljs-literal\">undefined</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-literal\">undefined</span>,</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-comment\">// 备注</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-attr\">remark</span>: <span class=\"hljs-literal\">undefined</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-title function_\">resetForm</span>(<span class=\"hljs-string\">&quot;channelRef&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 添加渠道 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleAdd</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">reset</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 打开对话框</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  open.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">true</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 对话框的标题</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  title.<span class=\"hljs-property\">value</span> = <span class=\"hljs-string\">&quot;添加渠道&quot;</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/**</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 修改渠道</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 无论是点击最上面的修改按钮，还是点击表格中的修改按钮，都会调用这个方法</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * 不同的是，如果是点击表格中的修改按钮，会把当前行的数据传递过来</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * <span class=\"hljs-doctag\">@param</span> row 行数据</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> * <span class=\"hljs-doctag\">@returns</span> &#123;<span class=\"hljs-type\">Promise&lt;void&gt;</span>&#125;</span></span></span><br><span class=\"hljs-comment\"><span class=\"language-javascript\"><span class=\"language-xml\"> */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleUpdate</span>(<span class=\"hljs-params\">row</span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">reset</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 这个渠道ID有两种来源：如果是点击表格中的修改按钮，则通过row.channelId获取</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-comment\">// 如果是点击最上面的修改按钮，则通过ids.value获取</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-keyword\">const</span> channelId = row.<span class=\"hljs-property\">channelId</span> || ids.<span class=\"hljs-property\">value</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">getInfo</span>(channelId).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">response</span> =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    form.<span class=\"hljs-property\">value</span> = response.<span class=\"hljs-property\">data</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    open.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">true</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    title.<span class=\"hljs-property\">value</span> = <span class=\"hljs-string\">&quot;修改渠道&quot;</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 提交按钮 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">submitForm</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  proxy.<span class=\"hljs-property\">$refs</span>[<span class=\"hljs-string\">&quot;channelRef&quot;</span>].<span class=\"hljs-title function_\">validate</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">valid</span> =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"hljs-keyword\">if</span> (valid) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"hljs-keyword\">if</span> (form.<span class=\"hljs-property\">value</span>.<span class=\"hljs-property\">channelId</span> != <span class=\"hljs-literal\">undefined</span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"hljs-title function_\">updateChannel</span>(form.<span class=\"hljs-property\">value</span>).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">response</span> =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"hljs-comment\">// 删除掉 form 中不需要提交的数据</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"hljs-keyword\">delete</span> form.<span class=\"hljs-property\">value</span>.<span class=\"hljs-property\">updateTime</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"hljs-keyword\">delete</span> form.<span class=\"hljs-property\">value</span>.<span class=\"hljs-property\">createTime</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          proxy.<span class=\"hljs-property\">$modal</span>.<span class=\"hljs-title function_\">msgSuccess</span>(<span class=\"hljs-string\">&quot;修改成功&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          open.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">      &#125; <span class=\"hljs-keyword\">else</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"hljs-title function_\">addChannel</span>(form.<span class=\"hljs-property\">value</span>).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">response</span> =&gt;</span> &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          proxy.<span class=\"hljs-property\">$modal</span>.<span class=\"hljs-title function_\">msgSuccess</span>(<span class=\"hljs-string\">&quot;新增成功&quot;</span>);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          open.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">      &#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-comment\">/** 取消按钮 */</span></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">cancel</span>(<span class=\"hljs-params\"></span>) &#123;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  open.<span class=\"hljs-property\">value</span> = <span class=\"hljs-literal\">false</span>;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"hljs-title function_\">reset</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"hljs-title function_\">getList</span>();</span></span><br><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>\n<p>!&gt; 声明：本人在开发这个模块当中没有记录开发过程，我这里只是简简单单写一个文章来做个备份给新人看这个项目有个好的铺垫。</p>\n","prev":{"title":"TienChin 渠道管理-配置字典常量","link":"2023/08/30/项目/TienChin 健身系统/2023-6-11/15-TienChin 渠道管理-配置字典常量"},"next":{"title":"TienChin 渠道管理-工程创建","link":"2023/08/20/项目/TienChin 健身系统/2023-6-11/12-TienChin 渠道管理-工程创建"},"plink":"http://example.com/2023/08/30/项目/TienChin 健身系统/2023-6-11/14-TienChin 渠道管理-前端展示渠道信息/","reading_time":"2736 words in 18 min"}