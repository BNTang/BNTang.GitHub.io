{"title":"TienChin 活动管理-修改活动","date":"2023-09-10T03:01:53.000Z","date_formatted":{"ll":"Sep 10, 2023","L":"09/10/2023","MM-DD":"09-10"},"link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/38-TienChin 活动管理-修改活动","tags":["项目"],"updated":"2023-09-21T17:34:53.773Z","content":"<h1 id=\"后端\">后端<a title=\"#后端\" href=\"#后端\"></a></h1>\n<h2 id=\"channelcontroller.java\">ChannelController.java<a title=\"#channelcontroller.java\" href=\"#channelcontroller.java\"></a></h2>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230922013121068-1371342465.png\" alt=\"image-20230922013120496\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@PreAuthorize(&quot;hasPermission(&#x27;tienchin:channel:edit&#x27;)&quot;)</span><br><span class=\"hljs-meta\">@GetMapping(&quot;/&#123;channelId&#125;&quot;)</span><br>AjaxResult <span class=\"hljs-title function_\">getInfo</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable</span> Long channelId)</span> &#123;<br>    <span class=\"hljs-keyword\">return</span> AjaxResult.success(iChannelService.getById(channelId));<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"activitycontroller.java\">ActivityController.java<a title=\"#activitycontroller.java\" href=\"#activitycontroller.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 根据活动ID查询一个具体的活动信息</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> activityId 活动ID</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@link</span> AjaxResult&#125;</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@PreAuthorize(&quot;hasPermission(&#x27;tienchin:activity:edit&#x27;)&quot;)</span><br><span class=\"hljs-meta\">@GetMapping(&quot;/&#123;activityId&#125;&quot;)</span><br>AjaxResult <span class=\"hljs-title function_\">getInfo</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable</span> Long activityId)</span> &#123;<br>    <span class=\"hljs-keyword\">return</span> AjaxResult.success(iActivityService.getActivityById(activityId));<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"iactivityservice.java\">IActivityService.java<a title=\"#iactivityservice.java\" href=\"#iactivityservice.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 根据活动ID查询一个具体的活动信息</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> activityId 活动ID</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@link</span> ActivityVO&#125;</span><br><span class=\"hljs-comment\"> */</span><br>ActivityVO <span class=\"hljs-title function_\">getActivityById</span><span class=\"hljs-params\">(Long activityId)</span>;<br></code></pre></td></tr></table></figure>\n<h2 id=\"activityserviceimpl.java\">ActivityServiceImpl.java<a title=\"#activityserviceimpl.java\" href=\"#activityserviceimpl.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@Override</span><br><span class=\"hljs-keyword\">public</span> ActivityVO <span class=\"hljs-title function_\">getActivityById</span><span class=\"hljs-params\">(Long activityId)</span> &#123;<br>    <span class=\"hljs-type\">Activity</span> <span class=\"hljs-variable\">activity</span> <span class=\"hljs-operator\">=</span> getById(activityId);<br>    <span class=\"hljs-type\">ActivityVO</span> <span class=\"hljs-variable\">activityVO</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActivityVO</span>();<br>    BeanUtils.copyProperties(activity, activityVO);<br>    <span class=\"hljs-keyword\">return</span> activityVO;<br>&#125;<br></code></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;selectActivityList&quot;</span> <span class=\"hljs-attr\">resultType</span>=<span class=\"hljs-string\">&quot;top.it6666.activity.domain.vo.ActivityVO&quot;</span>&gt;</span><br>    SELECT ta.*, tc.channel_name<br>    FROM tienchin_activity ta,<br>         tienchin_channel tc<br>    WHERE ta.channel_id = tc.channel_id<br>      AND ta.del_flag = 0<br>      AND tc.del_flag = 0<br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityName != null and activityName != &#x27;&#x27;&quot;</span>&gt;</span><br>        AND ta.activity_name LIKE CONCAT(&#x27;%&#x27;, #&#123;activityName&#125;, &#x27;%&#x27;)<br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;channelId != null&quot;</span>&gt;</span><br>        AND tc.channel_id = #&#123;channelId&#125;<br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityStatus != null&quot;</span>&gt;</span><br>        AND ta.activity_status = #&#123;activityStatus&#125;<br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityType != null&quot;</span>&gt;</span><br>        AND ta.activity_type = #&#123;activityType&#125;<br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><br></code></pre></td></tr></table></figure>","prev":{"title":"TienChin 活动管理-删除活动","link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/39-TienChin 活动管理-删除活动"},"next":{"title":"TienChin 活动管理-修改活动接口","link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/37-TienChin 活动管理-修改活动接口"},"plink":"http://example.com/2023/09/10/项目/TienChin 健身系统/2023-6-11/38-TienChin 活动管理-修改活动/","toc":[{"id":"后端","title":"后端","index":"1","children":[{"id":"channelcontroller.java","title":"ChannelController.java","index":"1.1"},{"id":"activitycontroller.java","title":"ActivityController.java","index":"1.2"},{"id":"iactivityservice.java","title":"IActivityService.java","index":"1.3"},{"id":"activityserviceimpl.java","title":"ActivityServiceImpl.java","index":"1.4"}]}],"reading_time":"254 words in 2 min"}