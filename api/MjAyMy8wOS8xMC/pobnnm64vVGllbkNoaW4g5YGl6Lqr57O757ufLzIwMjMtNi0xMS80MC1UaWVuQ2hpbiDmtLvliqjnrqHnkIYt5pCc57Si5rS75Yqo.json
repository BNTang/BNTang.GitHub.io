{"title":"TienChin 活动管理-搜索活动","date":"2023-09-10T09:49:30.000Z","date_formatted":{"ll":"Sep 10, 2023","L":"09/10/2023","MM-DD":"09-10"},"link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/40-TienChin 活动管理-搜索活动","tags":["项目"],"updated":"2023-09-23T10:29:39.585Z","content":"<h1 id=\"activitycontroller\">ActivityController<a title=\"#activitycontroller\" href=\"#activitycontroller\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@PreAuthorize(&quot;hasPermission(&#x27;tienchin:activity:list&#x27;)&quot;)</span><br><span class=\"hljs-meta\">@GetMapping(&quot;/list&quot;)</span><br>TableDataInfo <span class=\"hljs-title function_\">list</span><span class=\"hljs-params\">(ActivityVO activityVO)</span> &#123;<br>    startPage();<br>    <span class=\"hljs-keyword\">return</span> getDataTable(iActivityService.selectActivityList(activityVO));<br>&#125;<br></code></pre></td></tr></table></figure>\n<h1 id=\"iactivityservice.java\">IActivityService.java<a title=\"#iactivityservice.java\" href=\"#iactivityservice.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 查询活动列表</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> activityVO 活动信息</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@code</span> List&lt;ActivityVO&gt;&#125;</span><br><span class=\"hljs-comment\"> */</span><br>List&lt;ActivityVO&gt; <span class=\"hljs-title function_\">selectActivityList</span><span class=\"hljs-params\">(ActivityVO activityVO)</span>;<br></code></pre></td></tr></table></figure>\n<h1 id=\"activityserviceimpl.java\">ActivityServiceImpl.java<a title=\"#activityserviceimpl.java\" href=\"#activityserviceimpl.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@Override</span><br><span class=\"hljs-keyword\">public</span> List&lt;ActivityVO&gt; <span class=\"hljs-title function_\">selectActivityList</span><span class=\"hljs-params\">(ActivityVO activityVO)</span> &#123;<br>    <span class=\"hljs-comment\">// 将超过当前时间的活动状态设置为禁用</span><br>    expireActivity();<br><br>    <span class=\"hljs-keyword\">return</span> activityMapper.selectActivityList(activityVO);<br>&#125;<br></code></pre></td></tr></table></figure>\n<h1 id=\"activitymapper.java\">ActivityMapper.java<a title=\"#activitymapper.java\" href=\"#activitymapper.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 查询活动列表</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> activityVO 活动信息</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@code</span> List&lt;ActivityVO&gt;&#125;</span><br><span class=\"hljs-comment\"> */</span><br>List&lt;ActivityVO&gt; <span class=\"hljs-title function_\">selectActivityList</span><span class=\"hljs-params\">(ActivityVO activityVO)</span>;<br></code></pre></td></tr></table></figure>\n<h1 id=\"activitymapper.xml\">ActivityMapper.xml<a title=\"#activitymapper.xml\" href=\"#activitymapper.xml\"></a></h1>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityName != null and activityName != &#x27;&#x27;&quot;</span>&gt;</span><br>    AND ta.activity_name LIKE CONCAT(&#x27;%&#x27;, #&#123;activityName&#125;, &#x27;%&#x27;)<br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;channelId != null&quot;</span>&gt;</span><br>    AND tc.channel_id = #&#123;channelId&#125;<br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityStatus != null&quot;</span>&gt;</span><br>    AND ta.activity_status = #&#123;activityStatus&#125;<br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;activityType != null&quot;</span>&gt;</span><br>    AND ta.activity_type = #&#123;activityType&#125;<br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202309/2105804-20230923182907218-1655616395.png\" alt=\"img\" loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"TienChin 活动管理-活动导出","link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/41-TienChin 活动管理-活动导出"},"next":{"title":"TienChin 活动管理-删除活动","link":"2023/09/10/项目/TienChin 健身系统/2023-6-11/39-TienChin 活动管理-删除活动"},"plink":"http://example.com/2023/09/10/项目/TienChin 健身系统/2023-6-11/40-TienChin 活动管理-搜索活动/","toc":[{"id":"activitycontroller","title":"ActivityController","index":"1"},{"id":"iactivityservice.java","title":"IActivityService.java","index":"2"},{"id":"activityserviceimpl.java","title":"ActivityServiceImpl.java","index":"3"},{"id":"activitymapper.java","title":"ActivityMapper.java","index":"4"},{"id":"activitymapper.xml","title":"ActivityMapper.xml","index":"5"}],"reading_time":"188 words in 1 min"}