{"title":"uni-app-动态计算字体大小(苹果计算器)","date":"2023-12-19T15:06:56.000Z","date_formatted":{"ll":"Dec 19, 2023","L":"12/19/2023","MM-DD":"12-19"},"link":"2023/12/19/Uniapp/22-uni-app-动态计算字体大小(苹果计算器)","tags":["Uniapp"],"updated":"2023-12-19T16:19:22.992Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231203182457157-715839166.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<ul>\n<li>本文主要介绍uni-app中动态计算字体大小的方法</li>\n<li>原因呢就是在上一篇文章当中我发现输入的内容已经超过了展示区域</li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231219231111086-330315778.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>于是我就想到了动态计算字体大小的方法，这样就可以保证输入的内容不会超过展示区域</li>\n</ul>\n<h1 id=\"正文\">正文<a title=\"#正文\" href=\"#正文\"></a></h1>\n<ul>\n<li>首先要改造的是 <code>style=&quot;font-size: 180rpx;&quot;</code></li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231219231618422-845432828.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>这里不能直接写死，而是要动态改变，所以我在 data 当中定义了一个变量 <code>curFontSize</code>，默认值为 <code>&quot;180rpx&quot;</code>, 并且替换掉了原来的 <code>style=&quot;font-size: 180rpx;&quot;</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">curFontSize: &quot;180rpx&quot;,<br></code></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">:style=&quot;&#123;fontSize: curFontSize&#125;&quot;<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231219231805923-1424947943.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>然后下一步要做的事情就是监听输入内容的变化，动态改变 <code>curFontSize</code> 的值</li>\n<li>这里使用 watch 监听 <code>showValue</code> 的变化，然后在回调函数中动态计算 <code>curFontSize</code> 的值</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">watch: &#123;<br>    showValue(newVal, oldVal) &#123;<br>        newVal += &quot;&quot;;<br>        switch (newVal.length) &#123;<br>            case 8:<br>                this.curFontSize = &quot;160rpx&quot;;<br>                break;<br>            case 9:<br>                this.curFontSize = &quot;150rpx&quot;;<br>                break;<br>            case 10:<br>                this.curFontSize = &quot;130rpx&quot;;<br>                break;<br>            case 11:<br>                this.curFontSize = &quot;120rpx&quot;;<br>                break;<br>            default:<br>                this.curFontSize = &quot;180rpx&quot;;<br>                break;<br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>\n<ul>\n<li>首先我将 newVal 转换为字符串，然后根据字符串的长度来动态计算 <code>curFontSize</code> 的值</li>\n<li>这里我设置了 5 种情况，当输入的内容长度为 8 时，字体大小为 160rpx，当输入的内容长度为 9 时，字体大小为 150rpx，当输入的内容长度为 10 时，字体大小为 130rpx</li>\n<li>当输入的内容长等于 11 时，字体大小为 120rpx，这里我设置的最小值为 120rpx，当然你也可以设置为更小的值，这里就不再赘述了</li>\n<li>最后一种情况就是默认情况，当输入的内容长度不在上述范围内时，字体大小为 180rpx</li>\n<li>这样就可以保证输入的内容不会超过展示区域了</li>\n<li>当然这里的字体大小是可以根据自己的需求来设置的，这里只是给出了一个参考值</li>\n</ul>\n<p>运行效果如下：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231219232334645-1389301970.gif\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"end\">End<a title=\"#end\" href=\"#end\"></a></h1>\n<ul>\n<li>如果你有任何问题或建议，欢迎在下方留言，我会尽快回复</li>\n<li>如果你觉得本文对你有帮助，欢迎点赞、收藏，你的支持是我写作的最大动力</li>\n</ul>\n<blockquote>\n<p><a href=\"https://cloud.tencent.com/developer/article/2366050?from_column=20421&amp;from=20421\" target=\"_blank\">我正在参与2023腾讯技术创作特训营第四期有奖征文，快来和我瓜分大奖！</a></p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202311/2105804-20231129232539490-1458223711.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"uni-app-项目计算功能(苹果计算器)","link":"2023/12/19/Uniapp/23-uni-app-项目计算功能(苹果计算器)"},"next":{"title":"uni-app-处理项目输入数据(苹果计算器)","link":"2023/12/17/Uniapp/21-uni-app-处理项目输入数据(苹果计算器)"},"plink":"http://example.com/2023/12/19/Uniapp/22-uni-app-动态计算字体大小(苹果计算器)/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"正文","title":"正文","index":"2"},{"id":"end","title":"End","index":"3"}],"reading_time":"658 words in 4 min"}