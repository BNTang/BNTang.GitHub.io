{"title":"Git 日常常用操作","date":"2023-11-23T15:00:27.000Z","date_formatted":{"ll":"Nov 23, 2023","L":"11/23/2023","MM-DD":"11-23"},"link":"2023/11/23/Git/01-Git 日常常用操作","tags":["Git"],"updated":"2023-11-23T15:23:54.900Z","content":"<h1 id=\"删除仓库已存在文件\">删除仓库已存在文件<a title=\"#删除仓库已存在文件\" href=\"#删除仓库已存在文件\"></a></h1>\n<p>如果你已经将无用文件提交到了 Git 仓库，可以通过以下步骤进行操作：<br>\n步骤 1: 撤销对文件的跟踪<br>\n你可以使用以下命令停止跟踪该文件，但保留在你的本地文件系统中：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git rm <span class=\"hljs-comment\">--cached 文件名</span><br></code></pre></td></tr></table></figure>\n<p>如果出现：fatal: not removing ‘.idea’ recursively without -r</p>\n<p>代表着你删除的内容是一个带有内容的文件，所以需要加上 -r 递归删除掉文件当中的内容命令如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">rm</span> -r --cached 文件名<br></code></pre></td></tr></table></figure>\n<p>这将在暂存区删除文件的跟踪，但保留在本地文件系统中的副本。<br>\n步骤 2: 提交更改<br>\n接下来，你需要提交这一变更到你的 Git 仓库中：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git <span class=\"hljs-keyword\">commit</span> <span class=\"hljs-operator\">-</span>m &quot;删除无用文件&quot;<br></code></pre></td></tr></table></figure>\n<p>步骤 3: 推送更改<br>\n如果这个仓库是与远程仓库关联的，你需要将这些更改推送到远程仓库：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git push origin 分支名<br></code></pre></td></tr></table></figure>\n<p>在这些步骤之后，无用文件将不再被跟踪并从版本历史中移除。请确保在进行这些操作之前备份重要的文件，以免意外删除文件。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202311/2105804-20231122231128423-999760020.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"Git 提交规范","link":"2023/11/23/Git/02-Git 提交规范"},"next":{"title":"工厂方法模式","link":"2023/11/23/设计模式/创建型模式/01-工厂方法模式"},"plink":"http://example.com/2023/11/23/Git/01-Git 日常常用操作/","toc":[{"id":"删除仓库已存在文件","title":"删除仓库已存在文件","index":"1"}],"reading_time":"317 words in 2 min"}