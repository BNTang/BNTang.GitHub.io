{"title":"微信小程序-页面跳转navigator组件","date":"2023-05-21T06:41:01.000Z","date_formatted":{"ll":"May 21, 2023","L":"05/21/2023","MM-DD":"05-21"},"link":"2023/05/21/Web/微信小程序/页面跳转/55-微信小程序-页面跳转navigator组件","tags":["微信小程序"],"updated":"2023-05-21T15:21:20.185Z","content":"<p>官方文档地址：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html</a></p>\n<p>在官方文档当中有提到一个叫做页面栈的这么一个东西，就是一个水杯，进入一个页面就是入到页面栈，退出就是从页面栈当中移除，就会显示下一个页面了。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230521144419601-1519262500.png\" alt=\"image-20230521144418894\" loading=\"lazy\" class=\"φbp\"></p>\n<p>常用的路由方式：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230521144532239-1914553913.png\" alt=\"image-20230521144531703\" loading=\"lazy\" class=\"φbp\"></p>\n<p>我没介绍的肯定就是不常用的，甚至还有些画蛇添足。</p>\n<h1 id=\"navigateto\">navigateTo<a title=\"#navigateto\" href=\"#navigateto\"></a></h1>\n<p>?&gt; 默认情况下 open-type=“navigate”</p>\n<p>open-type=“navigate” 就是 navigateTo，这里我使用 navigateTo 跳转到了日志页面：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--index.wxml--&gt;<br>&lt;text&gt;首页&lt;/text&gt;<br>&lt;navigator open-type=&quot;navigate&quot; url=&quot;/pages/logs/logs&quot;&gt;跳转到日志页面&lt;/navigator&gt;<br></code></pre></td></tr></table></figure>\n<p>那么该如何返回到之前跳转过来的页面呢，默认情况下，左上角是有一个返回按钮的，如果想要自己自定义返回按钮当然也是可以的：</p>\n<h1 id=\"navigateback\">navigateBack<a title=\"#navigateback\" href=\"#navigateback\"></a></h1>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--logs.wxml--&gt;<br>&lt;text&gt;日志页面&lt;/text&gt;<br>&lt;navigator open-type=&quot;navigateBack&quot;&gt;返回上一个页面&lt;/navigator&gt;<br></code></pre></td></tr></table></figure>\n<p>自定义返回上一个页面，我这里采取的是使用 open-type=“navigateBack”, 但是呢，这个 navigator 的 URL 是没有进行指定的，所以这里就要说到我们的页面栈了，返回上一个页面，navigator 就会将日志页面进行出栈，出栈了就默认会显示上一个页面了。</p>\n<h1 id=\"跳转传递参数\">跳转传递参数<a title=\"#跳转传递参数\" href=\"#跳转传递参数\"></a></h1>\n<p>通过 query 的方式进行传递，那么该如何进行接收呢：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--index.wxml--&gt;<br>&lt;text&gt;首页&lt;/text&gt;<br>&lt;navigator open-type=&quot;navigate&quot; url=&quot;/pages/logs/logs?name=BNTang&amp;age=18&quot;&gt;跳转到日志页面&lt;/navigator&gt;<br></code></pre></td></tr></table></figure>\n<p>其实，通过 query 传递的参数微信小程序会自动将对应的数据放入到 <code>onLoad</code> 的生命周期的 options 参数当中, options 存储了跳转之前 navigator 传递过来的数据：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// logs.js</span><br><span class=\"hljs-title class_\">Page</span>(&#123;<br>  <span class=\"hljs-title function_\">onLoad</span>(<span class=\"hljs-params\">options</span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(options);<br><br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(options.<span class=\"hljs-property\">name</span>);<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(options.<span class=\"hljs-property\">age</span>);<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>","prev":{"title":"微信小程序-页面跳转wxAPI","link":"2023/05/21/Web/微信小程序/页面跳转/56-微信小程序-页面跳转wxAPI"},"next":{"title":"微信小程序-页面跳转Tabbar","link":"2023/05/21/Web/微信小程序/页面跳转/54-微信小程序-页面跳转Tabbar"},"plink":"http://example.com/2023/05/21/Web/微信小程序/页面跳转/55-微信小程序-页面跳转navigator组件/","toc":[{"id":"navigateto","title":"navigateTo","index":"1"},{"id":"navigateback","title":"navigateBack","index":"2"},{"id":"跳转传递参数","title":"跳转传递参数","index":"3"}],"reading_time":"493 words in 3 min"}