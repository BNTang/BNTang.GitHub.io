{"title":"微信小程序-页面生命周期方法","date":"2023-05-20T14:20:15.000Z","date_formatted":{"ll":"May 20, 2023","L":"05/20/2023","MM-DD":"05-20"},"link":"2023/05/20/Web/微信小程序/生命周期/页面生命周期/51-微信小程序-页面生命周期方法","tags":["微信小程序"],"updated":"2023-05-20T17:02:38.098Z","content":"<p>在经过上一篇文章的介绍之后，我们知道了大体的生命周期在什么时候执行，这次主要是以代码的形式来展示一下具体的阶段执行什么生命周期方法。</p>\n<p>首先我们编写一个代码可以从首页跳转到日志页面：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs wxml\">&lt;!--index.wxml--&gt;<br>&lt;text&gt;首页&lt;/text&gt;<br>&lt;navigator url=&quot;/pages/logs/logs&quot;&gt;跳转到Log页面&lt;/navigator&gt;<br></code></pre></td></tr></table></figure>\n<p>在日志页面当中编写监听生命周期的方法：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// logs.js</span><br><span class=\"hljs-title class_\">Page</span>(&#123;<br>  <span class=\"hljs-title function_\">onLoad</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;onLoad&quot;</span>);<br>  &#125;,<br>  <span class=\"hljs-title function_\">onShow</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;onShow&quot;</span>);<br>  &#125;,<br>  <span class=\"hljs-title function_\">onReady</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;onReady&quot;</span>);<br>  &#125;,<br>  <span class=\"hljs-title function_\">onHide</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;onHide&quot;</span>);<br>  &#125;,<br>  <span class=\"hljs-title function_\">onUnload</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;onUnload&quot;</span>);<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>\n<h1 id=\"onload/onshow/onready\">onLoad/onShow/onReady<a title=\"#onload/onshow/onready\" href=\"#onload/onshow/onready\"></a></h1>\n<p>这三个方法在日志页面被加载时会被调用，运行如上的首页代码，然后从首页点击 <code>navigator</code> 跳转到日志页面，然后就可以查看到效果了。</p>\n<p>?&gt; onLoad/onShow/onReady 生命周期方法当中可以做的一些事情</p>\n<ul>\n<li>onLoad/onShow：可以在这个方法当中进行发送网络请求，获取网络数据</li>\n<li>onShow：可以恢复之前一些状态</li>\n<li>onReady：可以在这个方法进行操作页面了，页面已经被渲染了</li>\n</ul>\n<h1 id=\"onhide\">onHide<a title=\"#onhide\" href=\"#onhide\"></a></h1>\n<p>?&gt; onHide 生命周期方法当中可以做的一些事情</p>\n<ul>\n<li>onHide：保存当前一些状态</li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230520223248516-2096887752.png\" alt=\"image-20230520223247763\" loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"onunload\">onUnload<a title=\"#onunload\" href=\"#onunload\"></a></h1>\n<p>?&gt; onUnload 生命周期方法当中可以做的一些事情</p>\n<ul>\n<li>onUnload：释放资源/移除监听</li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230520223345702-570666730.png\" alt=\"image-20230520223345232\" loading=\"lazy\" class=\"φbp\"></p>\n<p>点击返回按钮返回到上一级，至于为什么就会调用 onUnload 方法这里就需要说起小程序页面之间的跳转当中其实是有一个 <code>栈</code> 的，当我们点击了返回按钮，我们的日志页面就会出栈，所以不在栈当中就会被销毁了。</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202305/2105804-20230521010149884-1779441032.png\" alt=\"image-20230521010149093\" loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"微信小程序-组件生命周期方法","link":"2023/05/21/Web/微信小程序/生命周期/组件生命周期/52-微信小程序-组件生命周期方法"},"next":{"title":"微信小程序-页面生命周期","link":"2023/05/18/Web/微信小程序/生命周期/页面生命周期/50-微信小程序-页面生命周期"},"plink":"http://example.com/2023/05/20/Web/微信小程序/生命周期/页面生命周期/51-微信小程序-页面生命周期方法/","toc":[{"id":"onload/onshow/onready","title":"onLoad&#x2F;onShow&#x2F;onReady","index":"1"},{"id":"onhide","title":"onHide","index":"2"},{"id":"onunload","title":"onUnload","index":"3"}],"reading_time":"477 words in 3 min"}