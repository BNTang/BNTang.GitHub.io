{"title":"微信小程序-小程序事件冒泡和事件捕获","date":"2023-04-16T03:36:46.000Z","date_formatted":{"ll":"Apr 16, 2023","L":"04/16/2023","MM-DD":"04-16"},"link":"2023/04/16/Web/微信小程序/event/27-微信小程序-小程序事件冒泡和事件捕获","tags":["微信小程序"],"updated":"2023-04-16T04:10:44.840Z","content":"<p>!&gt; 小程序当中的时间捕获与时间冒泡与原生JS的是一样的</p>\n<p>这里我就来直接上代码来演示一下在微信小程序当中的时间冒泡与捕获，关于时间的捕获与冒泡可以参考我JS文章里面的介绍即可。</p>\n<h1 id=\"事件捕获\">事件捕获<a title=\"#事件捕获\" href=\"#事件捕获\"></a></h1>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;one&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;two&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;three&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>index.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">onOneClick</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;捕获:onOneClick&#x27;</span>);<br>&#125;,<br><span class=\"hljs-attr\">onTwoClick</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;捕获:onTwoClick&#x27;</span>);<br>&#125;,<br><span class=\"hljs-attr\">onThreeClick</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;捕获:onThreeClick&#x27;</span>);<br>&#125;,<br></code></pre></td></tr></table></figure>\n<h1 id=\"事件冒泡\">事件冒泡<a title=\"#事件冒泡\" href=\"#事件冒泡\"></a></h1>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;one&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick1&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;two&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;three&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>index.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">onOneClick1</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;冒泡:onOneClick1&#x27;</span>);<br>&#125;,<br><span class=\"hljs-attr\">onTwoClick1</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;冒泡:onTwoClick1&#x27;</span>);<br>&#125;,<br><span class=\"hljs-attr\">onThreeClick1</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;冒泡:onThreeClick1&#x27;</span>);<br>&#125;,<br></code></pre></td></tr></table></figure>\n<h1 id=\"事件捕获与冒泡\">事件捕获与冒泡<a title=\"#事件捕获与冒泡\" href=\"#事件捕获与冒泡\"></a></h1>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;one&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick1&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;two&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;three&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"阻止事件冒泡与捕获\">阻止事件冒泡与捕获<a title=\"#阻止事件冒泡与捕获\" href=\"#阻止事件冒泡与捕获\"></a></h1>\n<ul>\n<li>catch：阻止冒泡事件</li>\n<li>capture-catch：阻止捕获事件</li>\n</ul>\n<p>catch:</p>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;one&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick1&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;two&quot;</span> <span class=\"hljs-attr\">catch:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;three&quot;</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick1&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202304/2105804-20230416120447547-326932616.png\" alt=\"image-20230416120447014\" loading=\"lazy\" class=\"φbp\"></p>\n<p>可以看到从，three 开始 到 two 就已经结束了，说明在 two 这一层就阻止在继续往上传递了所以one就触发不了。</p>\n<p>capture-catch：</p>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;one&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onOneClick&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;two&quot;</span> <span class=\"hljs-attr\">capture-catch:tap</span>=<span class=\"hljs-string\">&quot;onTwoClick&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;three&quot;</span> <span class=\"hljs-attr\">capture-bind:tap</span>=<span class=\"hljs-string\">&quot;onThreeClick&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202304/2105804-20230416121024879-765105062.png\" alt=\"image-20230416121024723\" loading=\"lazy\" class=\"φbp\"></p>\n<p>可以看到从，one 开始 到 two 就已经结束了，说明在 two 这一层就阻止在继续往下传递了所以three就触发不了。</p>\n","prev":{"title":"微信小程序-事件传递数据","link":"2023/04/16/Web/微信小程序/event/28-微信小程序-事件传递数据"},"next":{"title":"微信小程序-小程序事件绑定","link":"2023/04/14/Web/微信小程序/event/26-微信小程序-小程序事件绑定"},"plink":"http://example.com/2023/04/16/Web/微信小程序/event/27-微信小程序-小程序事件冒泡和事件捕获/","toc":[{"id":"事件捕获","title":"事件捕获","index":"1"},{"id":"事件冒泡","title":"事件冒泡","index":"2"},{"id":"事件捕获与冒泡","title":"事件捕获与冒泡","index":"3"},{"id":"阻止事件冒泡与捕获","title":"阻止事件冒泡与捕获","index":"4"}],"reading_time":"459 words in 3 min"}