{"title":"ã€Flutterã€æœ‰æ— çŠ¶æ€ç»„ä»¶","date":"2024-01-02T15:19:43.000Z","date_formatted":{"ll":"Jan 2, 2024","L":"01/02/2024","MM-DD":"01-02"},"link":"2024/01/02/Flutter/19-ã€ŒFlutterã€æœ‰æ— çŠ¶æ€ç»„ä»¶","tags":["Flutter"],"updated":"2024-01-09T05:51:10.858Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240102232011926-1787243275.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h1 id=\"1.å‰è¨€\">1.å‰è¨€<a title=\"#1.å‰è¨€\" href=\"#1.å‰è¨€\"></a></h1>\n<p>è¯´ä¸€ä¸‹èƒŒæ™¯ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨ç¼–å†™ Flutter ç¨‹åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›®å‰æ˜¯å°†æ‰€æœ‰çš„ä»£ç éƒ½ç¼–å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œç°åœ¨ä»£ç é‡æ¯”è¾ƒå°‘æ‰€ä»¥çœ‹ä¸Šå»è¿˜å¥½ï¼Œä½†æ˜¯å½“ä»£ç é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œè¿™æ ·çš„ä»£ç å°±ä¼šæ˜¾å¾—éå¸¸çš„è‡ƒè‚¿ï¼Œä¸åˆ©äºæˆ‘ä»¬çš„ç»´æŠ¤ã€‚</p>\n<p>é‚£ä¹ˆäº†è§£äº†è¿™äº›èƒŒæ™¯å†…å®¹ä¹‹åï¼Œé‚£ä¹ˆå®˜æ–¹æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ</p>\n<h1 id=\"2.æ­£æ–‡\">2.æ­£æ–‡<a title=\"#2.æ­£æ–‡\" href=\"#2.æ­£æ–‡\"></a></h1>\n<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å®˜æ–¹ç»™æˆ‘ä»¬çš„ç¤ºä¾‹ä»£ç ï¼Œå…ˆå°†å¤šä½™çš„æ³¨é‡Šä»£ç ç»™åˆ é™¤ï¼Œç„¶ååœ¨æ¥çœ‹ï¼Œé€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°å®˜æ–¹æ˜¯ç¼–å†™äº†ä¸€ä¸ª MyApp ç±»ï¼Œç»§æ‰¿äº† StatelessWidgetï¼ˆç»„ä»¶ç±»ï¼‰ã€‚</p>\n<p>åœ¨Flutterä¸­ï¼Œç»„ä»¶ï¼ˆWidgetsï¼‰æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„åŸºæœ¬å…ƒç´ ã€‚ç»„ä»¶åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šæœ‰çŠ¶æ€ç»„ä»¶ï¼ˆStateful Widgetsï¼‰å’Œæ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Widgetsï¼‰ã€‚</p>\n<h2 id=\"2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless-widgetsï¼‰\">2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Widgetsï¼‰<a title=\"#2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless-widgetsï¼‰\" href=\"#2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless-widgetsï¼‰\"></a></h2>\n<ul>\n<li>æ— çŠ¶æ€ç»„ä»¶æ˜¯ä¸å¯å˜çš„ï¼Œæ„å‘³ç€å®ƒä»¬çš„å±æ€§ä¸èƒ½æ”¹å˜, æ‰€æœ‰çš„å€¼éƒ½æ˜¯æœ€ç»ˆçš„ã€‚</li>\n<li>é€šå¸¸ç”¨äºå½“ä½ éœ€è¦å±•ç¤ºçš„UIä¸ä¾èµ–äºå¯¹è±¡å†…éƒ¨çŠ¶æ€æ—¶ã€‚</li>\n</ul>\n<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class=\"hljs-keyword\">void</span> main() =&gt; runApp(MyApp());<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyApp</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class=\"hljs-string\">&#x27;Stateless Widget&#x27;</span>),<br>        ),<br>        body: Center(<br>          child: Text(<span class=\"hljs-string\">&#x27;Hello, Flutter!&#x27;</span>),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful-widgetsï¼‰\">2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆStateful Widgetsï¼‰<a title=\"#2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful-widgetsï¼‰\" href=\"#2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful-widgetsï¼‰\"></a></h2>\n<ul>\n<li>æœ‰çŠ¶æ€ç»„ä»¶å¯ä»¥åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ”¹å˜çŠ¶æ€ã€‚</li>\n<li>é€šå¸¸ç”¨äºå½“UIå¯ä»¥åœ¨ç”¨æˆ·äº¤äº’æˆ–å…¶ä»–å› ç´ å½±å“ä¸‹æ”¹å˜æ—¶ã€‚</li>\n</ul>\n<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class=\"hljs-keyword\">void</span> main() =&gt; runApp(MyApp());<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyApp</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatefulWidget</span> </span>&#123;<br>  <span class=\"hljs-meta\">@override</span><br>  _MyAppState createState() =&gt; _MyAppState();<br>&#125;<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">_MyAppState</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">State</span>&lt;<span class=\"hljs-title\">MyApp</span>&gt; </span>&#123;<br>  <span class=\"hljs-built_in\">int</span> _counter = <span class=\"hljs-number\">0</span>;<br><br>  <span class=\"hljs-keyword\">void</span> _incrementCounter() &#123;<br>    setState(() &#123;<br>      _counter++;<br>    &#125;);<br>  &#125;<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class=\"hljs-string\">&#x27;Stateful Widget&#x27;</span>),<br>        ),<br>        body: Center(<br>          child: Column(<br>            mainAxisAlignment: MainAxisAlignment.center,<br>            children: &lt;Widget&gt;[<br>              Text(<span class=\"hljs-string\">&#x27;You have pushed the button this many times:&#x27;</span>),<br>              Text(<br>                <span class=\"hljs-string\">&#x27;<span class=\"hljs-subst\">$_counter</span>&#x27;</span>,<br>                style: Theme.of(context).textTheme.headline4,<br>              ),<br>            ],<br>          ),<br>        ),<br>        floatingActionButton: FloatingActionButton(<br>          onPressed: _incrementCounter,<br>          tooltip: <span class=\"hljs-string\">&#x27;Increment&#x27;</span>,<br>          child: Icon(Icons.add),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<h1 id=\"3.æ— çŠ¶æ€ç»„ä»¶\">3.æ— çŠ¶æ€ç»„ä»¶<a title=\"#3.æ— çŠ¶æ€ç»„ä»¶\" href=\"#3.æ— çŠ¶æ€ç»„ä»¶\"></a></h1>\n<p>åœ¨æˆ‘ä»¬ä¹‹å‰çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨ <code>runApp</code> ä¸­æ˜¯ç›´æ¥ç¼–å†™ç»„ä»¶çš„ï¼Œç°åœ¨æˆ‘ä»¬å°†ç»„ä»¶å•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œç„¶ååœ¨ <code>runApp</code> ä¸­å¼•ç”¨ï¼Œé€šè¿‡ç»§æ‰¿ <code>StatelessWidget</code> æ¥å®ç°æ— çŠ¶æ€ç»„ä»¶ã€‚</p>\n<p>å¦‚ä¸‹å›¾æ˜¯ä¹‹å‰çš„ä»£ç ï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240103230601749-906832876.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ç°åœ¨æˆ‘ä»¬å°†ç»„ä»¶æŠ½ç¦»å‡ºæ¥ï¼Œå¼€å§‹æ”¹é€ ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class=\"hljs-keyword\">void</span> main() &#123;<br>  runApp(<span class=\"hljs-keyword\">const</span> MyApp());<br>&#125;<br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyApp</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-keyword\">const</span> MyApp(&#123;<span class=\"hljs-keyword\">super</span>.key&#125;);<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> MaterialApp(<br>      <span class=\"hljs-comment\">// åº”ç”¨ç¨‹åºçš„æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨ä»»åŠ¡ç®¡ç†çª—å£ä¸­ã€‚</span><br>        title: <span class=\"hljs-string\">&quot;my App&quot;</span>,<br>        <span class=\"hljs-comment\">// åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼Œç”¨äºå®šä¹‰é¢œè‰²ï¼Œå­—ä½“å’Œé˜´å½±ç­‰ã€‚æ¥å—ä¸€ä¸ª ThemeData å¯¹è±¡</span><br>        theme: ThemeData(primarySwatch: Colors.blue),<br>        <span class=\"hljs-comment\">// åº”ç”¨çš„é¦–é¡µ</span><br>        home: Scaffold(<br>            appBar: AppBar(<br>              backgroundColor: Colors.blue,<br>              title: <span class=\"hljs-keyword\">const</span> Text(<span class=\"hljs-string\">&#x27;é¦–é¡µ&#x27;</span>),<br>              centerTitle: <span class=\"hljs-keyword\">true</span>,<br>            ),<br>            body: <span class=\"hljs-keyword\">const</span> Center(<br>              child: Text(<br>                <span class=\"hljs-string\">&#x27;Hello Flutter&#x27;</span>,<br>                style: TextStyle(fontSize: <span class=\"hljs-number\">20.0</span>),<br>              ),<br>            )<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>è¿è¡Œç»“æœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240103231048372-400762354.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬å°†ç»„ä»¶æŠ½ç¦»å‡ºæ¥ï¼Œç„¶ååœ¨ <code>runApp</code> ä¸­å¼•ç”¨ï¼Œé€šè¿‡ç»§æ‰¿ <code>StatelessWidget</code> æ¥å®ç°æ— çŠ¶æ€ç»„ä»¶ã€‚</p>\n<p>é€šè¿‡æˆ‘çš„è§‚å¯Ÿ MaterialApp ä¸­çš„ home å±æ€§æ˜¯ä¸€ä¸ª Scaffold ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† Scaffold ç»„ä»¶ä¹ŸæŠ½ç¦»å‡ºæ¥ï¼Œç„¶ååœ¨ MaterialApp ä¸­å¼•ç”¨ã€‚</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyHome</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-keyword\">const</span> MyHome(&#123;<span class=\"hljs-keyword\">super</span>.key&#125;);<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> Scaffold(<br>        appBar: AppBar(<br>          backgroundColor: Colors.blue,<br>          title: <span class=\"hljs-keyword\">const</span> Text(<span class=\"hljs-string\">&#x27;é¦–é¡µ&#x27;</span>),<br>          centerTitle: <span class=\"hljs-keyword\">true</span>,<br>        ),<br>        body: <span class=\"hljs-keyword\">const</span> Center(<br>          child: Text(<br>            <span class=\"hljs-string\">&#x27;Hello Flutter MyHome&#x27;</span>,<br>            style: TextStyle(fontSize: <span class=\"hljs-number\">20.0</span>),<br>          ),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>è¿è¡Œç»“æœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240103231303089-1404932875.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>body ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ª Center ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† Center ç»„ä»¶ä¹ŸæŠ½ç¦»å‡ºæ¥ï¼Œç„¶ååœ¨ Scaffold ä¸­å¼•ç”¨, è¿™é‡Œæˆ‘å°±ä¸æµªè´¹æ—¶é—´äº†å› ä¸ºæœ¬æ¬¡è¿˜æœ‰ä¸€ä¸ªæœ‰çŠ¶æ€ç»„ä»¶è¿˜è¦ä»‹ç»æ— çŠ¶æ€ç»„ä»¶çš„ä½¿ç”¨å°±åˆ°è¿™é‡Œäº†ã€‚</p>\n<p>åœ¨æ·±å…¥äº†è§£æœ‰çŠ¶æ€ç»„ä»¶ä¹‹å‰ï¼Œå…ˆå°è¯•åˆ©ç”¨æ— çŠ¶æ€ç»„ä»¶ç®¡ç†çŠ¶æ€ï¼Œçœ‹çœ‹èƒ½å¦å®ç°é¢„æœŸæ•ˆæœã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä¹Ÿè¦æé†’å¤§å®¶æ³¨æ„æ— çŠ¶æ€ç»„ä»¶ä¸­çš„ä¸€ä¸ªé‡è¦äº‹é¡¹ã€‚ç„¶åå†æ·±å…¥äº†è§£æœ‰çŠ¶æ€ç»„ä»¶ã€‚</p>\n<p>é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªåä¸º MyHomeTwo çš„ç»„ä»¶ï¼Œå…¶æ„å»ºå‡½æ•°è¿”å›äº†ä¸€ä¸ª Center ç»„ä»¶ã€‚åœ¨ Center ç»„ä»¶çš„å­ç»„ä»¶ä¸­ï¼Œä½¿ç”¨äº† Row ç»„ä»¶ï¼Œå¹¶åœ¨ Row çš„ children å±æ€§ä¸­æ”¾ç½®äº†ä¸€ä¸ª Checkboxã€‚è¿™æ ·åšæ˜¯ä¸ºäº†åˆ©ç”¨ Checkbox çš„é€‰ä¸­çŠ¶æ€æ¥æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿä¿®æ”¹çŠ¶æ€ã€‚</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class=\"hljs-keyword\">void</span> main() &#123;<br>  runApp(<span class=\"hljs-keyword\">const</span> MyApp());<br>&#125;<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyApp</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-keyword\">const</span> MyApp(&#123;<span class=\"hljs-keyword\">super</span>.key&#125;);<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> MaterialApp(<br>        <span class=\"hljs-comment\">// åº”ç”¨ç¨‹åºçš„æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨ä»»åŠ¡ç®¡ç†çª—å£ä¸­ã€‚</span><br>        title: <span class=\"hljs-string\">&quot;my App&quot;</span>,<br>        <span class=\"hljs-comment\">// åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼Œç”¨äºå®šä¹‰é¢œè‰²ï¼Œå­—ä½“å’Œé˜´å½±ç­‰ã€‚æ¥å—ä¸€ä¸ª ThemeData å¯¹è±¡</span><br>        theme: ThemeData(primarySwatch: Colors.blue),<br>        <span class=\"hljs-comment\">// åº”ç”¨çš„é¦–é¡µ</span><br>        home: <span class=\"hljs-keyword\">const</span> MyHome());<br>  &#125;<br>&#125;<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyHome</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-keyword\">const</span> MyHome(&#123;<span class=\"hljs-keyword\">super</span>.key&#125;);<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> Scaffold(<br>        appBar: AppBar(<br>          backgroundColor: Colors.blue,<br>          title: <span class=\"hljs-keyword\">const</span> Text(<span class=\"hljs-string\">&#x27;é¦–é¡µ&#x27;</span>),<br>          centerTitle: <span class=\"hljs-keyword\">true</span>,<br>        ),<br>        body: MyHomeTwo());<br>  &#125;<br>&#125;<br><br><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyHomeTwo</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>&#123;<br>  <span class=\"hljs-keyword\">var</span> isCheck = <span class=\"hljs-keyword\">true</span>;<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> Center(<br>      child: Row(<br>        children: [Checkbox(value: isCheck, onChanged: (val) &#123;<br>          <span class=\"hljs-built_in\">print</span>(val);<br>          <span class=\"hljs-keyword\">this</span>.isCheck = val <span class=\"hljs-keyword\">is</span> <span class=\"hljs-built_in\">bool</span>;<br>          <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-keyword\">this</span>.isCheck);<br>        &#125;)],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>è¿è¡Œç»“æœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240104000135456-1306277327.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ä»æ•ˆæœå›¾ä¸­å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ isCheck ä¸€ç›´è¾“å‡ºçš„æ˜¯ trueï¼Œæˆ‘å·²ç»é€šè¿‡ <code>this.isCheck = val is bool;</code> è¿™ä¸ªä»£ç é‡æ–°èµ‹å€¼äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰æ”¹å˜ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<p>è¿™é‡Œéœ€è¦å¼ºè°ƒæ— çŠ¶æ€ç»„ä»¶ä¸­çš„ä¸€ä¸ªå…³é”®æ³¨æ„äº‹é¡¹, åœ¨æ— çŠ¶æ€ç»„ä»¶ä¸­ï¼Œç»„ä»¶è¢«åˆ›å»ºä¹‹åä¼šå°†ç»„ä»¶ä¸­çš„å˜é‡å˜æˆ final çš„ï¼Œæ‰€ä»¥æ— æ³•ç®¡ç†çŠ¶æ€ã€‚</p>\n<p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ç”¨åˆ°æœ‰çŠ¶æ€ç»„ä»¶äº†ã€‚</p>\n<h1 id=\"4.æœ‰çŠ¶æ€ç»„ä»¶\">4.æœ‰çŠ¶æ€ç»„ä»¶<a title=\"#4.æœ‰çŠ¶æ€ç»„ä»¶\" href=\"#4.æœ‰çŠ¶æ€ç»„ä»¶\"></a></h1>\n<p>åœ¨æˆ‘ä¹‹å‰çš„ä»‹ç»æœ‰çŠ¶æ€çš„ç»„ä»¶ï¼Œæ˜¯ä¸æ˜¯ç»§æ‰¿äº† StatefulWidget å°±æ˜¯æˆä¸ºäº†æœ‰çŠ¶æ€çš„ç»„ä»¶äº†ã€‚</p>\n<p>å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç¼–å†™ä¸€ä¸ªç±»ï¼Œåˆ›å»º MyStateful ç±»ï¼Œç»§æ‰¿ StatefulWidget:</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyStateful</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatefulWidget</span> </span>&#123;<br>  <span class=\"hljs-meta\">@override</span><br>  State&lt;StatefulWidget&gt; createState() &#123;<br>    <span class=\"hljs-comment\">// <span class=\"hljs-doctag\">TODO:</span> implement createState</span><br>    <span class=\"hljs-keyword\">throw</span> UnimplementedError();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>å‘ç°è¦æ±‚å®ç° createState æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª State å¯¹è±¡ï¼Œå…ˆä¸çœ‹è¿”å›ä»€ä¹ˆï¼Œå…ˆæ¥çœ‹ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åƒæ— çŠ¶æ€ç»„ä»¶é‚£æ ·å®šä¹‰ä¸€ä¸ªå˜é‡å°±å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨äº†å°±æˆä¸ºäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶äº†ã€‚</p>\n<p>æˆ‘çš„ç­”æ¡ˆæ˜¯ä¸è¡Œçš„ï¼š<code>åœ¨æœ‰çŠ¶æ€ç»„ä»¶ä¸­ï¼Œç»„ä»¶è¢«åˆ›å»ºä¹‹åä¹Ÿä¼šå°†ç»„ä»¶ä¸­çš„å˜é‡å˜æˆ final çš„</code>, è¿™é‡Œå°±éœ€è¦ç”¨åˆ° State äº†ã€‚</p>\n<h2 id=\"4.1.state\">4.1.State<a title=\"#4.1.state\" href=\"#4.1.state\"></a></h2>\n<p>State æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ª State çš„å­ç±»åº”è¯¥å®ç°çš„æ¥å£ã€‚é‚£ä¹ˆæˆ‘å°±ç¼–å†™ä¸€ä¸ªå±äº MyStateful çš„ State ç±»ï¼Œç»§æ‰¿ Stateï¼Œç„¶åå†å°†ä¹‹å‰çš„ Checkbox ç»„ä»¶æ”¾åˆ° MyStatefulState ä¸­ã€‚</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyStatefulState</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">State</span> </span>&#123;<br>  <span class=\"hljs-keyword\">var</span> isCheck = <span class=\"hljs-keyword\">true</span>;<br><br>  <span class=\"hljs-meta\">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class=\"hljs-keyword\">return</span> Center(<br>      child: Row(<br>        children: [<br>          Checkbox(<br>              value: isCheck,<br>              onChanged: (val) &#123;<br>                <span class=\"hljs-built_in\">print</span>(val);<br>                <span class=\"hljs-keyword\">this</span>.isCheck = val <span class=\"hljs-keyword\">as</span> <span class=\"hljs-built_in\">bool</span>;<br>                <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-keyword\">this</span>.isCheck);<br>              &#125;)<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>åœ¨ MyStateful ç±» createState æ–¹æ³•ä¸­è¿”å› MyStatefulState å¯¹è±¡ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyStateful</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatefulWidget</span> </span>&#123;<br>  <span class=\"hljs-meta\">@override</span><br>  State&lt;StatefulWidget&gt; createState() &#123;<br>    <span class=\"hljs-keyword\">return</span> MyStatefulState();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>è¿è¡Œç»“æœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240104000006867-1162399351.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ä»æ•ˆæœå›¾ä¸­å¯ä»¥çœ‹åˆ° isCheck çš„å€¼å·²ç»æ”¹å˜äº†ï¼Œä½†æ˜¯å‘¢è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®æ”¹å˜äº†é¡µé¢ UI æ²¡æœ‰æ”¹å˜ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<p>è¿™é‡Œå°±éœ€è¦ç”¨åˆ° setState æ–¹æ³•äº†ã€‚å› ä¸º Flutter å’Œ React ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡æ•°æ®é©±åŠ¨ UI çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„æ•°æ®æ”¹å˜äº†ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ setState æ–¹æ³•æ¥é€šçŸ¥ Flutter é‡æ–°æ„å»º UIã€‚</p>\n<h2 id=\"4.2.setstate\">4.2.setState<a title=\"#4.2.setstate\" href=\"#4.2.setstate\"></a></h2>\n<p>setState æ–¹æ³•æ˜¯ State ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨ setState æ–¹æ³•è°ƒç”¨ä¹‹åç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­æ”¹å˜çŠ¶æ€ã€‚</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">this</span>.setState(() &#123;<br>  <span class=\"hljs-keyword\">this</span>.isCheck = val <span class=\"hljs-keyword\">as</span> <span class=\"hljs-built_in\">bool</span>;<br>&#125;);<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240104000411888-627125434.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h1 id=\"5.æ€»ç»“\">5.æ€»ç»“<a title=\"#5.æ€»ç»“\" href=\"#5.æ€»ç»“\"></a></h1>\n<h2 id=\"5.1.æ— çŠ¶æ€ç»„ä»¶\">5.1.æ— çŠ¶æ€ç»„ä»¶<a title=\"#5.1.æ— çŠ¶æ€ç»„ä»¶\" href=\"#5.1.æ— çŠ¶æ€ç»„ä»¶\"></a></h2>\n<ul>\n<li>æ— çŠ¶æ€ç»„ä»¶æ˜¯ä¸å¯å˜çš„ï¼Œæ„å‘³ç€å®ƒä»¬çš„å±æ€§ä¸èƒ½æ”¹å˜, æ‰€æœ‰çš„å€¼éƒ½æ˜¯æœ€ç»ˆçš„ã€‚</li>\n<li>é€šå¸¸ç”¨äºå½“ä½ éœ€è¦å±•ç¤ºçš„UIä¸ä¾èµ–äºå¯¹è±¡å†…éƒ¨çŠ¶æ€æ—¶ã€‚</li>\n<li>å®ç°æ–¹å¼ï¼šç»§æ‰¿ StatelessWidgetï¼Œç„¶ååœ¨ build æ–¹æ³•ä¸­è¿”å›ä¸€ä¸ª Widgetã€‚</li>\n<li>æ— çŠ¶æ€ç»„ä»¶ä¸­çš„å˜é‡åœ¨ç»„ä»¶è¢«åˆ›å»ºä¹‹åä¼šå°†ç»„ä»¶ä¸­çš„å˜é‡å˜æˆ final çš„ã€‚</li>\n</ul>\n<h2 id=\"5.2.æœ‰çŠ¶æ€ç»„ä»¶\">5.2.æœ‰çŠ¶æ€ç»„ä»¶<a title=\"#5.2.æœ‰çŠ¶æ€ç»„ä»¶\" href=\"#5.2.æœ‰çŠ¶æ€ç»„ä»¶\"></a></h2>\n<ul>\n<li>æœ‰çŠ¶æ€ç»„ä»¶å¯ä»¥åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ”¹å˜çŠ¶æ€ã€‚</li>\n<li>é€šå¸¸ç”¨äºå½“UIå¯ä»¥åœ¨ç”¨æˆ·äº¤äº’æˆ–å…¶ä»–å› ç´ å½±å“ä¸‹æ”¹å˜æ—¶ã€‚</li>\n<li>åœ¨æœ‰çŠ¶æ€ç»„ä»¶ä¸­ï¼Œç»„ä»¶è¢«åˆ›å»ºä¹‹åä¹Ÿä¼šå°†ç»„ä»¶ä¸­çš„å˜é‡å˜æˆ final çš„ã€‚</li>\n<li>é‡‡ç”¨æ•°æ®é©±åŠ¨ UI çš„æ–¹å¼ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œé€šè¿‡ setState æ–¹æ³•é€šçŸ¥ Flutter é‡æ–°æ„å»º UIã€‚</li>\n<li>å®ç°æ–¹å¼ï¼šç»§æ‰¿ StatefulWidgetï¼Œç„¶ååœ¨ createState æ–¹æ³•ä¸­è¿”å›ä¸€ä¸ª State å¯¹è±¡ã€‚åœ¨ State å¯¹è±¡ä¸­å®šä¹‰å˜é‡ï¼Œç„¶åé€šè¿‡ setState æ–¹æ³•æ”¹å˜å˜é‡çš„å€¼ï¼Œæœ€ååœ¨ build æ–¹æ³•ä¸­ä½¿ç”¨å˜é‡ã€‚ï¼ˆState å°±ç›¸å½“äºæˆ‘ä»¬æ™®é€šçš„ä¸€ä¸ªç±»äº†ï¼‰</li>\n</ul>\n<h1 id=\"end\">End<a title=\"#end\" href=\"#end\"></a></h1>\n<ul>\n<li>ğŸ¤å¦‚æœæ‚¨å¯¹æœ¬æ–‡æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘å°†å¾ˆä¹æ„ä¸æ‚¨äº¤æµã€‚</li>\n<li>ğŸ°æ‚¨çš„æ¯ä¸€æ¡è¯„è®ºå¯¹æˆ‘éƒ½è‡³å…³é‡è¦ï¼Œæˆ‘ä¼šå°½å¿«ç»™äºˆå›å¤ã€‚</li>\n<li>ğŸˆå¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¯å‘æˆ–å¸®åŠ©ï¼Œè¯·ä¸åèµèµã€æ”¶è—æˆ–åˆ†äº«ã€‚</li>\n<li>ğŸæ‚¨çš„æ¯ä¸€ä¸ªåŠ¨ä½œéƒ½æ˜¯å¯¹æˆ‘åˆ›ä½œçš„æœ€å¤§é¼“åŠ±å’Œæ”¯æŒã€‚</li>\n<li>ğŸ‘è°¢è°¢æ‚¨çš„é˜…è¯»å’Œé™ªä¼´ï¼</li>\n</ul>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231211215004818-977875224.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n","prev":{"title":"ã€Flutterã€è­¦å‘Šä¿®å¤","link":"2024/01/02/Flutter/20-ã€ŒFlutterã€è­¦å‘Šä¿®å¤"},"next":{"title":"ã€Flutterã€å¸¸ç”¨ç»„ä»¶ æŒ‰é’®ã€å›¾ç‰‡","link":"2024/01/01/Flutter/18-ã€ŒFlutterã€å¸¸ç”¨ç»„ä»¶ æŒ‰é’®ã€å›¾ç‰‡"},"plink":"http://example.com/2024/01/02/Flutter/19-ã€ŒFlutterã€æœ‰æ— çŠ¶æ€ç»„ä»¶/","toc":[{"id":"1.å‰è¨€","title":"1.å‰è¨€","index":"1"},{"id":"2.æ­£æ–‡","title":"2.æ­£æ–‡","index":"2","children":[{"id":"2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless-widgetsï¼‰","title":"2.1.æ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Widgetsï¼‰","index":"2.1"},{"id":"2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful-widgetsï¼‰","title":"2.2.æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆStateful Widgetsï¼‰","index":"2.2"}]},{"id":"3.æ— çŠ¶æ€ç»„ä»¶","title":"3.æ— çŠ¶æ€ç»„ä»¶","index":"3"},{"id":"4.æœ‰çŠ¶æ€ç»„ä»¶","title":"4.æœ‰çŠ¶æ€ç»„ä»¶","index":"4","children":[{"id":"4.1.state","title":"4.1.State","index":"4.1"},{"id":"4.2.setstate","title":"4.2.setState","index":"4.2"}]},{"id":"5.æ€»ç»“","title":"5.æ€»ç»“","index":"5","children":[{"id":"5.1.æ— çŠ¶æ€ç»„ä»¶","title":"5.1.æ— çŠ¶æ€ç»„ä»¶","index":"5.1"},{"id":"5.2.æœ‰çŠ¶æ€ç»„ä»¶","title":"5.2.æœ‰çŠ¶æ€ç»„ä»¶","index":"5.2"}]},{"id":"end","title":"End","index":"6"}]}