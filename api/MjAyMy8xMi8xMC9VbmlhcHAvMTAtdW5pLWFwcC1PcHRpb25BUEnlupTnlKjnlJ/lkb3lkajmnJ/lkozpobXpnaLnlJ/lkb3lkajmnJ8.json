{"title":"uni-app-OptionAPI应用生命周期和页面生命周期","date":"2023-12-09T17:33:48.000Z","date_formatted":{"ll":"Dec 10, 2023","L":"12/10/2023","MM-DD":"12-10"},"link":"2023/12/10/Uniapp/10-uni-app-OptionAPI应用生命周期和页面生命周期","tags":["Uniapp"],"updated":"2023-12-09T18:45:03.824Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231203181347739-848499735.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<ul>\n<li>好，经过上个章节的介绍完毕之后，了解了一下 uni-app-修改组件主题和样式</li>\n<li>那么了解完了uni-app-修改组件主题和样式之后，这篇文章来给大家介绍一下 uni-app-OptionAPI应用生命周期和页面生命周期</li>\n<li>首先不管三七二十一，先来新建一个项目</li>\n</ul>\n<h1 id=\"搭建演示环境\">搭建演示环境<a title=\"#搭建演示环境\" href=\"#搭建演示环境\"></a></h1>\n<p>创建一个全新的项目：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210013811533-834220458.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>然后在配置一下，微信小程序的 AppId，直接去之前的项目中拷贝一下即可，找到之前项目的 <code>manifest.json</code> 文件，然后选择微信小程序配置，复制一下即可。</p>\n<ul>\n<li>经过如上的这么一顿操作之后，就可以搭建完毕运行环境，与编码环境</li>\n<li>接下来就可以开始进行介绍 uni-app-OptionAPI应用生命周期和页面生命周期内容了</li>\n</ul>\n<h1 id=\"步入正题\">步入正题<a title=\"#步入正题\" href=\"#步入正题\"></a></h1>\n<h2 id=\"应用生命周期\">应用生命周期<a title=\"#应用生命周期\" href=\"#应用生命周期\"></a></h2>\n<ul>\n<li>在看这个应用生命周期之前，你们肯定或许有这么一个疑问就是在哪监听应用的生命周期呢？其实很简单，就是在 <code>App.vue</code> 文件中</li>\n<li>打开 <code>App.vue</code> 文件，可以看到分别有 <code>onLaunch</code>、<code>onShow</code>、<code>onHide</code> 这几个生命周期函数，分别对应的是应用的生命周期函数</li>\n</ul>\n<p>那么我是怎么知道的呢？其实很简单，我们可以去官网查看一下，<a href=\"https://uniapp.dcloud.net.cn/collocation/App.html\" target=\"_blank\">uni-app-应用生命周期</a></p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210014239324-1443446650.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>官方文档中介绍了很多，比较常用的就是 <code>onLaunch</code>、<code>onShow</code>、<code>onHide</code> 这几个生命周期函数, 所以我们就来看一下这几个生命周期函数的作用就可以了，其他的自己去试一下就可以了。</p>\n<ul>\n<li>onLaunch：当<code>uni-app</code>初始化完成时触发（全局只触发一次）</li>\n<li>onShow：当<code>uni-app</code>启动，或从后台进入前台显示</li>\n<li>onHide：当<code>uni-app</code>从前台进入后台</li>\n</ul>\n<p>演示方式非常简单，我们直接将项目以微信小程序的方式运行起来，然后在微信小程序中进行操作，当我运行起来之后，微信小程序控制台中就打印出来了我们在生命周期函数中打印的内容，如下图所示：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210014839308-1760401729.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>那么 onHide 的内容咋没有打印出来呢？其实很简单，因为 onHide 是当 <code>uni-app</code> 从前台进入后台的时候才会触发，所以我们需要将微信小程序切换到后台，之所以用微信小程序运行的原因就是有这么一个功能，可以将微信小程序切换到后台，如下图所示：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210015102126-1221241944.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>当我点击之后，就可以看到 onHide 的内容也打印出来了，如下图所示：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210015137319-1107281877.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"页面生命周期\">页面生命周期<a title=\"#页面生命周期\" href=\"#页面生命周期\"></a></h2>\n<p>在看页面生命周期之前，我们先配置一下 tabBar：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs json\"><span class=\"hljs-attr\">&quot;tabBar&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">&#123;</span><br>    <span class=\"hljs-attr\">&quot;color&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#7A7E83&quot;</span><span class=\"hljs-punctuation\">,</span><br>    <span class=\"hljs-attr\">&quot;selectedColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#3cc51f&quot;</span><span class=\"hljs-punctuation\">,</span><br>    <span class=\"hljs-attr\">&quot;borderStyle&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;black&quot;</span><span class=\"hljs-punctuation\">,</span><br>    <span class=\"hljs-attr\">&quot;backgroundColor&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;#ffffff&quot;</span><span class=\"hljs-punctuation\">,</span><br>    <span class=\"hljs-attr\">&quot;list&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">&#123;</span><br>        <span class=\"hljs-attr\">&quot;pagePath&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/index/index&quot;</span><span class=\"hljs-punctuation\">,</span><br>        <span class=\"hljs-attr\">&quot;text&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;首页&quot;</span><br>    <span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-punctuation\">&#123;</span><br>        <span class=\"hljs-attr\">&quot;pagePath&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/account/account&quot;</span><span class=\"hljs-punctuation\">,</span><br>        <span class=\"hljs-attr\">&quot;text&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;账号&quot;</span><br>    <span class=\"hljs-punctuation\">&#125;</span><span class=\"hljs-punctuation\">]</span><br><span class=\"hljs-punctuation\">&#125;</span><br></code></pre></td></tr></table></figure>\n<p>然后在 <code>pages</code> 目录下新建一个账号页面：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210015851834-1314122835.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>index.vue 页面中的代码如下所示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span>&gt;</span><br>\t\t首页<br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\"></span><br><span class=\"language-javascript\">\t<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> &#123;</span><br><span class=\"language-javascript\">\t&#125;</span><br><span class=\"language-javascript\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>account.vue 页面中的代码如下所示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span>&gt;</span><br>\t\t账号<br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\"></span><br><span class=\"language-javascript\">\t<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> &#123;</span><br><span class=\"language-javascript\">\t&#125;</span><br><span class=\"language-javascript\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>搭建完毕之后，我们就可以来看一下页面生命周期了，页面生命周期的介绍可以去官网查看一下，<a href=\"https://uniapp.dcloud.net.cn/tutorial/page.html#lifecycle\" target=\"_blank\">uni-app-页面生命周期</a></p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210020030607-573002852.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>官方文档中介绍了很多，说什么支持 Vue 的组件生命周期还扩展了一些额外的生命周期函数，我给大家介绍一部分，其他的自己去试一下就可以了。</p>\n<ol>\n<li>onLoad：监听页面加载</li>\n<li>onShow：监听页面显示</li>\n<li>onReady：监听页面初次渲染完成</li>\n<li>onHide：监听页面隐藏</li>\n<li>onPullDownRefresh：监听用户下拉动作</li>\n<li>onReachBottom：页面上拉触底事件的处理函数</li>\n</ol>\n<p>那么我们就来看一下这几个生命周期函数的作用就可以了，其他的自己去试一下就可以了。</p>\n<p>更改 index.vue 页面中的代码如下所示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\"></span><br><span class=\"language-javascript\">\t<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> &#123;</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onLoad</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onLoad&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onShow</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onShow&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onReady</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onReady&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onHide</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onHide&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onPullDownRefresh</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onPullDownRefresh&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t\t<span class=\"hljs-title function_\">onReachBottom</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">\t\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;首页 onReachBottom&quot;</span>);</span><br><span class=\"language-javascript\">\t\t&#125;,</span><br><span class=\"language-javascript\">\t&#125;</span><br><span class=\"language-javascript\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>更改 account.vue 页面中的代码如下所示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\"></span><br><span class=\"language-javascript\">    <span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> &#123;</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onLoad</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onLoad&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onShow</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onShow&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onReady</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onReady&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onHide</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onHide&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onPullDownRefresh</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onPullDownRefresh&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">        <span class=\"hljs-title function_\">onReachBottom</span>(<span class=\"hljs-params\"></span>) &#123;</span><br><span class=\"language-javascript\">            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;账号 onReachBottom&quot;</span>);</span><br><span class=\"language-javascript\">        &#125;,</span><br><span class=\"language-javascript\">    &#125;</span><br><span class=\"language-javascript\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>然后我们就可以运行起来，然后在微信小程序控制台中就可以看到我们在生命周期函数中打印的内容，我这里录制一个视频，大家可以看一下：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210021144256-776257307.gif\" alt loading=\"lazy\" class=\"φbp\"></p>\n<p>通过观察发现是不是还有我们的上拉刷新和下拉加载的生命周期函数没有打印出来呢？其实很简单，我来改造一下首页的代码，如下所示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">text</span>&gt;</span>首页<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">text</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;content&quot;</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 88<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;item&quot;</span>&gt;</span>item 99<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><span class=\"language-css\"></span><br><span class=\"language-css\">    <span class=\"hljs-selector-class\">.item</span> &#123;</span><br><span class=\"language-css\">        <span class=\"hljs-attribute\">width</span>: <span class=\"hljs-number\">100%</span>;</span><br><span class=\"language-css\">        <span class=\"hljs-attribute\">height</span>: <span class=\"hljs-number\">200</span>rpx;</span><br><span class=\"language-css\">    &#125;</span><br><span class=\"language-css\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>改造之后还不够，如果要想实现下拉加载和上拉刷新，还需要更改 <code>pages.json</code> 文件，我这里是以首页页面为例，需要在首页对象的 style 中配置 enablePullDownRefresh 和 onReachBottomDistance 属性。</p>\n<ul>\n<li>enablePullDownRefresh：是否开启下拉刷新</li>\n<li>onReachBottomDistance：页面上拉触底事件触发时距页面底部距离，单位为px（设置上拉加载更多的距离）</li>\n</ul>\n<p>onReachBottomDistance 有默认值，所以我们不需要配置，直接配置 enablePullDownRefresh 属性即可，如下所示：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs json\"><span class=\"hljs-punctuation\">&#123;</span><br>    <span class=\"hljs-attr\">&quot;path&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;pages/index/index&quot;</span><span class=\"hljs-punctuation\">,</span><br>    <span class=\"hljs-attr\">&quot;style&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">&#123;</span><br>        <span class=\"hljs-attr\">&quot;enablePullDownRefresh&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-keyword\">true</span><br>    <span class=\"hljs-punctuation\">&#125;</span><br><span class=\"hljs-punctuation\">&#125;</span><br></code></pre></td></tr></table></figure>\n<p>然后我们就可以运行起来，然后在微信小程序控制台中就可以看到我们在 onPullDownRefresh 和 onReachBottom 生命周期函数中打印的内容，我这里录制一个视频，大家可以看一下：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231210022534572-76310998.gif\" alt loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"总结\">总结<a title=\"#总结\" href=\"#总结\"></a></h1>\n<p>好，经过上面的介绍完毕之后，我们就可以来总结一下 uni-app-OptionAPI应用生命周期和页面生命周期的内容了。</p>\n<ul>\n<li>应用生命周期：onLaunch、onShow、onHide</li>\n<li>页面生命周期：onLoad、onShow、onReady、onHide、onPullDownRefresh、onReachBottom</li>\n</ul>\n<p>其他的生命周期函数，大家可以去官网查看一下，自己去试一下就可以了。</p>\n<h1 id=\"最后\">最后<a title=\"#最后\" href=\"#最后\"></a></h1>\n<p>大家好我是 BNTang, 一个热爱分享的技术的开发者，如果大家觉得我的文章对你有帮助的话，可以关注我的公众号 <code>JavaBoyL</code>，我会在公众号中分享一些IT技术和一些个人的见解，谢谢大家的支持。</p>\n<blockquote>\n<p><a href=\"https://cloud.tencent.com/developer/article/2366050?from_column=20421&amp;from=20421\" target=\"_blank\">我正在参与2023腾讯技术创作特训营第四期有奖征文，快来和我瓜分大奖！</a></p>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202311/2105804-20231129232539490-1458223711.png\" alt loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"uni-app-CompositionAPI应用生命周期和页面生命周期","link":"2023/12/10/Uniapp/11-uni-app-CompositionAPI应用生命周期和页面生命周期"},"next":{"title":"uni-app-修改组件主题和样式","link":"2023/12/09/Uniapp/09-uni-app-修改组件主题和样式"},"plink":"http://example.com/2023/12/10/Uniapp/10-uni-app-OptionAPI应用生命周期和页面生命周期/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"搭建演示环境","title":"搭建演示环境","index":"2"},{"id":"步入正题","title":"步入正题","index":"3","children":[{"id":"应用生命周期","title":"应用生命周期","index":"3.1"},{"id":"页面生命周期","title":"页面生命周期","index":"3.2"}]},{"id":"总结","title":"总结","index":"4"},{"id":"最后","title":"最后","index":"5"}],"reading_time":"2011 words in 13 min"}