{"title":"Redis 常用数据结构与使用场景","date":"2022-11-08T23:40:42.000Z","date_formatted":{"ll":"Nov 9, 2022","L":"11/09/2022","MM-DD":"11-09"},"link":"2022/11/09/面试题/Redis/02-Redis 常用数据结构与使用场景","tags":["面试题"],"updated":"2022-11-10T14:33:01.634Z","content":"<h1 id=\"数据结构\">数据结构<a title=\"#数据结构\" href=\"#数据结构\"></a></h1>\n<p><img src=\"https://img2022.cnblogs.com/blog/2105804/202211/2105804-20221109074226523-795080696.png\" alt=\"image-20221109074226245\" loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"使用场景\">使用场景<a title=\"#使用场景\" href=\"#使用场景\"></a></h1>\n<h2 id=\"string\">String<a title=\"#string\" href=\"#string\"></a></h2>\n<ul>\n<li>计数器</li>\n</ul>\n<blockquote>\n<ul>\n<li>INCR article:readcount: {文章 id}</li>\n<li>GET article:readcount: {文章 id}</li>\n</ul>\n</blockquote>\n<ul>\n<li>Web 集群 session 共享</li>\n</ul>\n<blockquote>\n<ul>\n<li>spring session + Redis 实现 session 共享</li>\n</ul>\n</blockquote>\n<ul>\n<li>分布式系统全局序列号</li>\n</ul>\n<blockquote>\n<ul>\n<li>INCRBY orderId 1000</li>\n</ul>\n</blockquote>\n<h2 id=\"hash\">Hash<a title=\"#hash\" href=\"#hash\"></a></h2>\n<ul>\n<li>对象缓存</li>\n</ul>\n<blockquote>\n<ul>\n<li>HMSET user 1:name gd 1:balance 1888</li>\n</ul>\n</blockquote>\n<ul>\n<li>购物车</li>\n</ul>\n<blockquote>\n<ul>\n<li>结构：以用户 id 为 key，商品 id 为 field，商品数量为 value</li>\n</ul>\n</blockquote>\n<p>购物车操作：</p>\n<ul>\n<li>添加商品 hset cart:1001 10088 1</li>\n<li>增加数量 hincrby cart:1001 10088 1</li>\n<li>商品总数 hlen cart:1001</li>\n<li>删除商品 hdel cart:1001 10088</li>\n<li>获取购物车所有商品 hgetall cart:1001</li>\n</ul>\n<h2 id=\"list\">List<a title=\"#list\" href=\"#list\"></a></h2>\n<ul>\n<li>微博和微信公号消息流</li>\n</ul>\n<p>场景: 张三关注了李四, 王五, 张三发微博，消息 ID 为 10018:</p>\n<ul>\n<li>LPUSH msg:{zs-ID} 10018</li>\n</ul>\n<p>王五发微博，ID 为 10086:</p>\n<ul>\n<li>LPUSH msg:{zs-消息ID} 10086</li>\n<li>LRANGE msg:{zs-ID} 0 4</li>\n</ul>\n<h2 id=\"set\">set<a title=\"#set\" href=\"#set\"></a></h2>\n<ul>\n<li>\n<p>微信抽奖小程序</p>\n<ul>\n<li>点击参与抽奖加入集合: SADD key {userlD}</li>\n<li>查看参与抽奖所有用户: SMEMBERS key</li>\n<li>抽取 count 名中奖者: SRANDMEMBER key [count] / SPOP key [count]</li>\n</ul>\n</li>\n<li>\n<p>共同关注的人</p>\n</li>\n</ul>\n<h2 id=\"zset\">Zset<a title=\"#zset\" href=\"#zset\"></a></h2>\n<ul>\n<li>实现排行榜</li>\n</ul>\n<h2 id=\"bitmap\">bitmap<a title=\"#bitmap\" href=\"#bitmap\"></a></h2>\n<ul>\n<li>签到</li>\n</ul>\n<h2 id=\"geo\">geo<a title=\"#geo\" href=\"#geo\"></a></h2>\n<ul>\n<li>附近的⼈</li>\n</ul>\n","prev":{"title":"季节性","link":"2022/11/15/文学/语文/季节性"},"next":{"title":"服务","link":"2022/11/02/Windows/01-服务"},"plink":"http://example.com/2022/11/09/面试题/Redis/02-Redis 常用数据结构与使用场景/","toc":[{"id":"数据结构","title":"数据结构","index":"1"},{"id":"使用场景","title":"使用场景","index":"2","children":[{"id":"string","title":"String","index":"2.1"},{"id":"hash","title":"Hash","index":"2.2"},{"id":"list","title":"List","index":"2.3"},{"id":"set","title":"set","index":"2.4"},{"id":"zset","title":"Zset","index":"2.5"},{"id":"bitmap","title":"bitmap","index":"2.6"},{"id":"geo","title":"geo","index":"2.7"}]}],"reading_time":"272 words in 2 min"}