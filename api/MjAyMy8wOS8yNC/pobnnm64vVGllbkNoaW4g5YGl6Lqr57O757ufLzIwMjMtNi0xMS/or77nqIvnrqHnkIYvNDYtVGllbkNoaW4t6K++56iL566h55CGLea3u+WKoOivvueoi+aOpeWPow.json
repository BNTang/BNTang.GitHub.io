{"title":"TienChin-课程管理-添加课程接口","date":"2023-09-24T03:13:00.000Z","date_formatted":{"ll":"Sep 24, 2023","L":"09/24/2023","MM-DD":"09-24"},"link":"2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/46-TienChin-课程管理-添加课程接口","tags":["项目"],"updated":"2023-09-24T06:27:14.382Z","content":"<h1 id=\"coursecontroller.java\">CourseController.java<a title=\"#coursecontroller.java\" href=\"#coursecontroller.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@PreAuthorize(&quot;hasPermission(&#x27;tienchin:course:create&#x27;)&quot;)</span><br><span class=\"hljs-meta\">@Log(title = &quot;课程管理&quot;, businessType = BusinessType.INSERT)</span><br><span class=\"hljs-meta\">@PostMapping</span><br><span class=\"hljs-keyword\">public</span> AjaxResult <span class=\"hljs-title function_\">add</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@Validated</span> <span class=\"hljs-meta\">@RequestBody</span> Course course)</span> &#123;<br>    <span class=\"hljs-keyword\">return</span> AjaxResult.success(iCourseService.addCourse(course) &gt; <span class=\"hljs-number\">0</span> ? <span class=\"hljs-string\">&quot;添加成功&quot;</span> : <span class=\"hljs-string\">&quot;添加失败&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>\n<h1 id=\"icourseservice.java\">ICourseService.java<a title=\"#icourseservice.java\" href=\"#icourseservice.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 添加课程</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> course 课程</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> 影响行数</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">addCourse</span><span class=\"hljs-params\">(Course course)</span>;<br></code></pre></td></tr></table></figure>\n<h1 id=\"courseserviceimpl.java\">CourseServiceImpl.java<a title=\"#courseserviceimpl.java\" href=\"#courseserviceimpl.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@Override</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">addCourse</span><span class=\"hljs-params\">(Course course)</span> &#123;<br>    course.setCreateBy(SecurityUtils.getUsername());<br>    course.setCreateTime(LocalDateTime.now());<br><br>    <span class=\"hljs-keyword\">return</span> save(course) ? <span class=\"hljs-number\">1</span> : <span class=\"hljs-number\">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n<h1 id=\"validationmessages.properties\">ValidationMessages.properties<a title=\"#validationmessages.properties\" href=\"#validationmessages.properties\"></a></h1>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs properties\"><span class=\"hljs-comment\"># 课程管理</span><br><span class=\"hljs-attr\">course.type.notnull</span>=<span class=\"hljs-string\">课程类型不能为空</span><br><span class=\"hljs-attr\">course.name.notnull</span>=<span class=\"hljs-string\">课程名称不能为空</span><br><span class=\"hljs-attr\">course.price.notnull</span>=<span class=\"hljs-string\">课程价格不能为空</span><br><span class=\"hljs-attr\">course.price.invalid</span>=<span class=\"hljs-string\">课程价格无效</span><br><span class=\"hljs-attr\">course.applyTo.notnull</span>=<span class=\"hljs-string\">课程适用人群不能为空</span><br><span class=\"hljs-attr\">course.info.notnull</span>=<span class=\"hljs-string\">课程简介不能为空</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"course.java\">Course.java<a title=\"#course.java\" href=\"#course.java\"></a></h1>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 课程类型 1.舞蹈类 2.游泳类 3.拳击类</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@NotNull(message = &quot;&#123;course.type.notnull&#125;&quot;)</span><br><span class=\"hljs-keyword\">private</span> Integer type;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 课程名称</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@NotBlank(message = &quot;&#123;course.name.notnull&#125;&quot;)</span><br><span class=\"hljs-keyword\">private</span> String name;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 课程价格</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@NotNull(message = &quot;&#123;course.price.notnull&#125;&quot;)</span><br><span class=\"hljs-meta\">@Min(value = 0, message = &quot;&#123;course.price.invalid&#125;&quot;)</span><br><span class=\"hljs-keyword\">private</span> Double price;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 课程适用人群</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@NotNull(message = &quot;&#123;course.applyTo.notnull&#125;&quot;)</span><br><span class=\"hljs-keyword\">private</span> Integer applyTo;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 课程简介</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@NotBlank(message = &quot;&#123;course.info.notnull&#125;&quot;)</span><br><span class=\"hljs-keyword\">private</span> String info;<br></code></pre></td></tr></table></figure>","prev":{"title":"TienChin-课程管理-添加课程页面","link":"2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/47-TienChin-课程管理-添加课程页面"},"next":{"title":"TienChin-课程管理-展示课程列表","link":"2023/09/23/项目/TienChin 健身系统/2023-6-11/课程管理/45-TienChin-课程管理-展示课程列表"},"plink":"http://example.com/2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/46-TienChin-课程管理-添加课程接口/","toc":[{"id":"coursecontroller.java","title":"CourseController.java","index":"1"},{"id":"icourseservice.java","title":"ICourseService.java","index":"2"},{"id":"courseserviceimpl.java","title":"CourseServiceImpl.java","index":"3"},{"id":"validationmessages.properties","title":"ValidationMessages.properties","index":"4"},{"id":"course.java","title":"Course.java","index":"5"}],"reading_time":"291 words in 2 min"}