{"title":"TienChin-课程管理-课程搜索","date":"2023-09-24T15:16:00.000Z","date_formatted":{"ll":"Sep 24, 2023","L":"09/24/2023","MM-DD":"09-24"},"link":"2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/51-TienChin-课程管理-课程搜索","tags":["项目"],"updated":"2023-09-24T16:34:30.767Z","content":"<h1 id=\"后端\">后端<a title=\"#后端\" href=\"#后端\"></a></h1>\n<p>新建 CourseVO.java：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * CourseVO类是一个课程的值对象，用于存储课程的相关信息。</span><br><span class=\"hljs-comment\"> * 它包含了课程的名称、类型、适用对象、最低价格和最高价格等属性。</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CourseVO</span> &#123;<br>    <span class=\"hljs-keyword\">private</span> String name; <span class=\"hljs-comment\">// 课程名称</span><br>    <span class=\"hljs-keyword\">private</span> String type; <span class=\"hljs-comment\">// 课程类型</span><br>    <span class=\"hljs-keyword\">private</span> String applyTo; <span class=\"hljs-comment\">// 适用对象</span><br>    <span class=\"hljs-keyword\">private</span> Double minPrice; <span class=\"hljs-comment\">// 最低价格</span><br>    <span class=\"hljs-keyword\">private</span> Double maxPrice; <span class=\"hljs-comment\">// 最高价格</span><br><br>    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getName</span><span class=\"hljs-params\">()</span> &#123;<br>        <span class=\"hljs-keyword\">return</span> name;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setName</span><span class=\"hljs-params\">(String name)</span> &#123;<br>        <span class=\"hljs-built_in\">this</span>.name = name;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getType</span><span class=\"hljs-params\">()</span> &#123;<br>        <span class=\"hljs-keyword\">return</span> type;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setType</span><span class=\"hljs-params\">(String type)</span> &#123;<br>        <span class=\"hljs-built_in\">this</span>.type = type;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getApplyTo</span><span class=\"hljs-params\">()</span> &#123;<br>        <span class=\"hljs-keyword\">return</span> applyTo;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setApplyTo</span><span class=\"hljs-params\">(String applyTo)</span> &#123;<br>        <span class=\"hljs-built_in\">this</span>.applyTo = applyTo;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> Double <span class=\"hljs-title function_\">getMinPrice</span><span class=\"hljs-params\">()</span> &#123;<br>        <span class=\"hljs-keyword\">return</span> minPrice;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setMinPrice</span><span class=\"hljs-params\">(Double minPrice)</span> &#123;<br>        <span class=\"hljs-built_in\">this</span>.minPrice = minPrice;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> Double <span class=\"hljs-title function_\">getMaxPrice</span><span class=\"hljs-params\">()</span> &#123;<br>        <span class=\"hljs-keyword\">return</span> maxPrice;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setMaxPrice</span><span class=\"hljs-params\">(Double maxPrice)</span> &#123;<br>        <span class=\"hljs-built_in\">this</span>.maxPrice = maxPrice;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"coursecontroller.java\">CourseController.java<a title=\"#coursecontroller.java\" href=\"#coursecontroller.java\"></a></h2>\n<p>更改列表查询方法：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@PreAuthorize(&quot;hasPermission(&#x27;tienchin:course:list&#x27;)&quot;)</span><br><span class=\"hljs-meta\">@GetMapping(&quot;/list&quot;)</span><br>TableDataInfo <span class=\"hljs-title function_\">list</span><span class=\"hljs-params\">(CourseVO courseVO)</span> &#123;<br>    startPage();<br>    <span class=\"hljs-keyword\">return</span> getDataTable(iCourseService.selectCourseList(courseVO));<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"icourseservice.java\">ICourseService.java<a title=\"#icourseservice.java\" href=\"#icourseservice.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 查询课程列表</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> courseVO 课程信息</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@code</span> List&lt;Course&gt;&#125;</span><br><span class=\"hljs-comment\"> */</span><br>List&lt;Course&gt; <span class=\"hljs-title function_\">selectCourseList</span><span class=\"hljs-params\">(CourseVO courseVO)</span>;<br></code></pre></td></tr></table></figure>\n<h2 id=\"courseserviceimpl.java\">CourseServiceImpl.java<a title=\"#courseserviceimpl.java\" href=\"#courseserviceimpl.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@Override</span><br><span class=\"hljs-keyword\">public</span> List&lt;Course&gt; <span class=\"hljs-title function_\">selectCourseList</span><span class=\"hljs-params\">(CourseVO courseVO)</span> &#123;<br>    <span class=\"hljs-keyword\">return</span> courseMapper.selectCourseList(courseVO);<br>&#125;<br></code></pre></td></tr></table></figure>\n<h2 id=\"coursemapper.java\">CourseMapper.java<a title=\"#coursemapper.java\" href=\"#coursemapper.java\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 查询课程列表</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@param</span> courseVO 课程信息</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@return</span> &#123;<span class=\"hljs-doctag\">@code</span> List&lt;Course&gt;&#125;</span><br><span class=\"hljs-comment\"> */</span><br>List&lt;Course&gt; <span class=\"hljs-title function_\">selectCourseList</span><span class=\"hljs-params\">(CourseVO courseVO)</span>;<br></code></pre></td></tr></table></figure>\n<h2 id=\"coursemapper.xml\">CourseMapper.xml<a title=\"#coursemapper.xml\" href=\"#coursemapper.xml\"></a></h2>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-meta\">&lt;?xml version=<span class=\"hljs-string\">&quot;1.0&quot;</span> encoding=<span class=\"hljs-string\">&quot;UTF-8&quot;</span>?&gt;</span><br><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">mapper</span> <span class=\"hljs-keyword\">PUBLIC</span> <span class=\"hljs-string\">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class=\"hljs-string\">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">mapper</span> <span class=\"hljs-attr\">namespace</span>=<span class=\"hljs-string\">&quot;top.it6666.course.mapper.CourseMapper&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;selectCourseList&quot;</span> <span class=\"hljs-attr\">resultType</span>=<span class=\"hljs-string\">&quot;top.it6666.course.domain.Course&quot;</span>&gt;</span><br>        SELECT *<br>        FROM tienchin_course<br>        WHERE del_flag = 0<br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span><br>            AND name LIKE CONCAT(&#x27;%&#x27;, #&#123;name&#125;, &#x27;%&#x27;)<br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;type != null and type != &#x27;&#x27;&quot;</span>&gt;</span><br>            AND type = #&#123;type&#125;<br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;applyTo != null and applyTo != &#x27;&#x27;&quot;</span>&gt;</span><br>            AND apply_to = #&#123;applyTo&#125;<br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;minPrice != null&quot;</span>&gt;</span><br>            AND price <span class=\"hljs-symbol\">&amp;gt;</span>= #&#123;minPrice&#125;<br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">&quot;maxPrice != null&quot;</span>&gt;</span><br>            AND price <span class=\"hljs-symbol\">&amp;lt;</span>= #&#123;maxPrice&#125;<br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"前端\">前端<a title=\"#前端\" href=\"#前端\"></a></h1>\n<p>index.vue:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">&lt;el-form :model=&quot;queryParams&quot; ref=&quot;queryRef&quot; :inline=&quot;true&quot; v-show=&quot;showSearch&quot; label-width=&quot;70px&quot;&gt;<br>  &lt;el-form-item label=&quot;课程名称&quot; prop=&quot;name&quot;&gt;<br>    &lt;el-input<br>        v-model=&quot;queryParams.name&quot;<br>        placeholder=&quot;请输入课程名称&quot;<br>        clearable<br>        @keyup.enter=&quot;handleQuery&quot;<br>    /&gt;<br>  &lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;课程类型&quot; prop=&quot;type&quot;&gt;<br>    &lt;el-select<br>        v-model=&quot;queryParams.type&quot;<br>        placeholder=&quot;请选择课程类型&quot;<br>        clearable<br>    &gt;<br>      &lt;el-option<br>          v-for=&quot;ct in course_type&quot;<br>          :key=&quot;ct.value&quot;<br>          :label=&quot;ct.label&quot;<br>          :value=&quot;ct.value&quot;<br>      /&gt;<br>    &lt;/el-select&gt;<br>  &lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;适用人群&quot; prop=&quot;applyTo&quot;&gt;<br>    &lt;el-select<br>        v-model=&quot;queryParams.applyTo&quot;<br>        placeholder=&quot;请选择适用人群&quot;<br>        clearable<br>    &gt;<br>      &lt;el-option<br>          v-for=&quot;cat in course_apply_to&quot;<br>          :key=&quot;cat.value&quot;<br>          :label=&quot;cat.label&quot;<br>          :value=&quot;cat.value&quot;<br>      /&gt;<br>    &lt;/el-select&gt;<br>  &lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;最低价格&quot; prop=&quot;minPrice&quot;&gt;<br>    &lt;el-input-number<br>        v-model=&quot;queryParams.minPrice&quot;<br>        placeholder=&quot;最低价格&quot;<br>        clearable<br>        @keyup.enter=&quot;handleQuery&quot;<br>        :precision=&quot;2&quot;<br>        :step=&quot;100&quot;<br>        :min=&quot;0&quot;<br>    /&gt;<br>  &lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;最高价格&quot; prop=&quot;maxPrice&quot;&gt;<br>    &lt;el-input-number<br>        v-model=&quot;queryParams.maxPrice&quot;<br>        placeholder=&quot;最高价格&quot;<br>        clearable<br>        @keyup.enter=&quot;handleQuery&quot;<br>        :precision=&quot;2&quot;<br>        :step=&quot;100&quot;<br>        :min=&quot;0&quot;<br>    /&gt;<br>  &lt;/el-form-item&gt;<br>  &lt;el-form-item&gt;<br>    &lt;el-button type=&quot;primary&quot; icon=&quot;Search&quot; @click=&quot;handleQuery&quot;&gt;搜索&lt;/el-button&gt;<br>    &lt;el-button icon=&quot;Refresh&quot; @click=&quot;resetQuery&quot;&gt;重置&lt;/el-button&gt;<br>  &lt;/el-form-item&gt;<br>&lt;/el-form&gt;<br></code></pre></td></tr></table></figure>\n<p>完善一下搜索条件对应的字段即可。</p>\n","prev":{"title":"TienChin-课程管理-课程导出","link":"2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/52-TienChin-课程管理-课程导出"},"next":{"title":"TienChin-课程管理-删除课程","link":"2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/50-TienChin-课程管理-删除课程"},"plink":"http://example.com/2023/09/24/项目/TienChin 健身系统/2023-6-11/课程管理/51-TienChin-课程管理-课程搜索/","toc":[{"id":"后端","title":"后端","index":"1","children":[{"id":"coursecontroller.java","title":"CourseController.java","index":"1.1"},{"id":"icourseservice.java","title":"ICourseService.java","index":"1.2"},{"id":"courseserviceimpl.java","title":"CourseServiceImpl.java","index":"1.3"},{"id":"coursemapper.java","title":"CourseMapper.java","index":"1.4"},{"id":"coursemapper.xml","title":"CourseMapper.xml","index":"1.5"}]},{"id":"前端","title":"前端","index":"2"}],"reading_time":"764 words in 5 min"}