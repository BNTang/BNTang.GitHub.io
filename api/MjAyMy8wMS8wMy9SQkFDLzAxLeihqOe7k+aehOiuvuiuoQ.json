{"title":"RBAC表结构设计","date":"2023-01-03T08:36:20.000Z","date_formatted":{"ll":"Jan 3, 2023","L":"01/03/2023","MM-DD":"01-03"},"link":"2023/01/03/RBAC/01-表结构设计","tags":["RBAC"],"updated":"2023-03-10T15:23:44.822Z","content":"<p>在权限系统中，最核心的三张表为：<code>用户表</code>、<code>角色表</code>和<code>菜单表</code>（权限表），它们间的关系通常采用经典的 RBAC（Role-Based Access Control，基于角色的访问控制）模型。简单来说就是一个用户拥有若干角色，每一个角色拥有若干权限。这样就构造成 “用户-角色-权限” 的授权模型。在这种模型中，用户与角色之间，角色与权限之间，一般都是多对多的关系，如下图所示：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202301/2105804-20230103163856690-570354741.png\" alt=\"image-20230103163855465\" loading=\"lazy\" class=\"φbp\"></p>\n<p>比如获取用户名为 BNTang 的用户权限过程为：</p>\n<ol>\n<li>通过 BNTang 的 user_id 从 t_user_role 表获取对应的 role_id；</li>\n<li>通过第1步获取的 role_id 从 t_role_menu 表获取对应的 menu_id；</li>\n<li>通过第2步获取的 menu_id 从 t_menu 获取 menu 相关信息（t_menu 表的 permission 为权限信息）。</li>\n</ol>\n<p>下面开始设计这5张表（三张主表，两张关联表）。</p>\n<p>在开始之前，我们需要安装MySQL（已经安装过的略过），这里采用5.7版本</p>\n<p><a href=\"https://dev.mysql.com/downloads/file/?id=487685%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%90%8E%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF%E3%80%82\" target=\"_blank\">https://dev.mysql.com/downloads/file/?id=487685，下载后直接安装即可。</a></p>\n<p>安装好 MySQL 后，使用数据库连接工具创建一个名称为 bntang_cloud_base 的数据库，个人使用的是Navicat，所<br>\n以这里以Navicat为例。点击Navicat的连接按钮，类型选MySQL，连接刚刚安装好的MySQL数据库:</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202301/2105804-20230103164353714-1090047644.png\" alt=\"image-20230103164352926\" loading=\"lazy\" class=\"φbp\"></p>\n<p>连接成功后，在新建的连接上右键选择新建数据库：</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202301/2105804-20230103164420802-81069626.png\" alt=\"image-20230103164420266\" loading=\"lazy\" class=\"φbp\"></p>\n<p>至此，数据库创建完毕，下面开始创建数据表。</p>\n<h1 id=\"t_user-表结构设计\">t_user 表结构设计<a title=\"#t_user-表结构设计\" href=\"#t_user-表结构设计\"></a></h1>\n<p>t_user 表为用户表，用于存储用户信息。表结构如下所示:</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th>长度</th>\n<th>null</th>\n<th>主键</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">USER_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td>20</td>\n<td>否</td>\n<td>是</td>\n<td>用户ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">USERNAME</td>\n<td style=\"text-align:left\">varchar</td>\n<td>50</td>\n<td>否</td>\n<td>否</td>\n<td>用户名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PASSWORD</td>\n<td style=\"text-align:left\">varchar</td>\n<td>128</td>\n<td>否</td>\n<td>否</td>\n<td>密码</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DEPT_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td>20</td>\n<td>是</td>\n<td>否</td>\n<td>部门ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EMAIL</td>\n<td style=\"text-align:left\">varchar</td>\n<td>128</td>\n<td>是</td>\n<td>否</td>\n<td>邮箱</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MOBILE</td>\n<td style=\"text-align:left\">varchar</td>\n<td>20</td>\n<td>是</td>\n<td>否</td>\n<td>联系电话</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">STATUS</td>\n<td style=\"text-align:left\">char</td>\n<td>1</td>\n<td>否</td>\n<td>否</td>\n<td>状态 0 锁定 1 有效</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CREATE_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td>0</td>\n<td>否</td>\n<td>否</td>\n<td>创建时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MODIFY_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td>0</td>\n<td>是</td>\n<td>否</td>\n<td>修改时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">LAST_LOGIN_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td>0</td>\n<td>是</td>\n<td>否</td>\n<td>最近访问时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">SSEX</td>\n<td style=\"text-align:left\">char</td>\n<td>1</td>\n<td>否</td>\n<td>否</td>\n<td>性别 0男 1女 2保密</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">AVATAR</td>\n<td style=\"text-align:left\">varchar</td>\n<td>100</td>\n<td>否</td>\n<td>是</td>\n<td>头像</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DESCRIPTION</td>\n<td style=\"text-align:left\">varchar</td>\n<td>100</td>\n<td>是</td>\n<td>否</td>\n<td>描述</td>\n</tr>\n</tbody>\n</table></div></div><p>其中，因为 SEX 为 MySQL 关键字，所以使用 SSEX 代替了。</p>\n<p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_user`  (<br>  `USER_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&#x27;用户ID&#x27;</span>,<br>  `USERNAME` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">50</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;用户名&#x27;</span>,<br>  `PASSWORD` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">128</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;密码&#x27;</span>,<br>  `DEPT_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;部门ID&#x27;</span>,<br>  `EMAIL` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">128</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;邮箱&#x27;</span>,<br>  `MOBILE` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;联系电话&#x27;</span>,<br>  `STATUS` <span class=\"hljs-type\">char</span>(<span class=\"hljs-number\">1</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;状态 0锁定 1有效&#x27;</span>,<br>  `CREATE_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;创建时间&#x27;</span>,<br>  `MODIFY_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;修改时间&#x27;</span>,<br>  `LAST_LOGIN_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;最近访问时间&#x27;</span>,<br>  `SSEX` <span class=\"hljs-type\">char</span>(<span class=\"hljs-number\">1</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;性别 0男 1女 2保密&#x27;</span>,<br>  `AVATAR` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">100</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;头像&#x27;</span>,<br>  `DESCRIPTION` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">100</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;描述&#x27;</span>,<br>  <span class=\"hljs-keyword\">PRIMARY</span> KEY (`USER_ID`) <span class=\"hljs-keyword\">USING</span> BTREE<br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB AUTO_INCREMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;用户表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>往表里插入一条数据：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_user`<br><span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;BNTang&#x27;</span>, <span class=\"hljs-string\">&#x27;$2a$10$gzhiUb1ldc1Rf3lka4k/WOoFKKGPepHSzJxzcPSN5/65SzkMdc.SK&#x27;</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;303158131@qq.com&#x27;</span>,<br>        <span class=\"hljs-string\">&#x27;17788888888&#x27;</span>, <span class=\"hljs-string\">&#x27;1&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-06-14 20:39:22&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-07-19 10:18:36&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-08-02 15:57:00&#x27;</span>, <span class=\"hljs-string\">&#x27;0&#x27;</span>, <span class=\"hljs-string\">&#x27;default.jpg&#x27;</span>,<br>        <span class=\"hljs-string\">&#x27;我是帅比作者。&#x27;</span>);<br></code></pre></td></tr></table></figure>\n<p>密码为 1234qwer 经过 BCryptPasswordEncoder 加密后的值。</p>\n<h1 id=\"t_role-角色表设计\">t_role 角色表设计<a title=\"#t_role-角色表设计\" href=\"#t_role-角色表设计\"></a></h1>\n<p>t_role 表为角色表，用于存储角色信息。表结构如下所示:</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th>长度</th>\n<th>null</th>\n<th>主键</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">ROLE_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td>20</td>\n<td>否</td>\n<td>是</td>\n<td>角色ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ROLE_NAME</td>\n<td style=\"text-align:left\">varchar</td>\n<td>10</td>\n<td>否</td>\n<td>否</td>\n<td>角色名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">REMARK</td>\n<td style=\"text-align:left\">varchar</td>\n<td>100</td>\n<td>是</td>\n<td>否</td>\n<td>角色描述</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CREATE_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td>0</td>\n<td>否</td>\n<td>否</td>\n<td>创建时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MODIFY_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td>0</td>\n<td>是</td>\n<td>否</td>\n<td>修改时间</td>\n</tr>\n</tbody>\n</table></div></div><p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_role`  (<br>  `ROLE_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&#x27;角色ID&#x27;</span>,<br>  `ROLE_NAME` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">10</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;角色名称&#x27;</span>,<br>  `REMARK` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">100</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;角色描述&#x27;</span>,<br>  `CREATE_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;创建时间&#x27;</span>,<br>  `MODIFY_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;修改时间&#x27;</span>,<br>  <span class=\"hljs-keyword\">PRIMARY</span> KEY (`ROLE_ID`) <span class=\"hljs-keyword\">USING</span> BTREE<br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB AUTO_INCREMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;角色表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>往表里插入一条数据：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role`<br><span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;管理员&#x27;</span>, <span class=\"hljs-string\">&#x27;管理员&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-08-08 16:23:11&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-08-09 14:38:59&#x27;</span>);<br></code></pre></td></tr></table></figure>\n<h1 id=\"t_menu-表结构设计\">t_menu 表结构设计<a title=\"#t_menu-表结构设计\" href=\"#t_menu-表结构设计\"></a></h1>\n<p>t_menu 为菜单表，用于存储菜单、按钮及其对应的权限标识，表结构如下：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">长度</th>\n<th style=\"text-align:left\">null</th>\n<th style=\"text-align:left\">主键</th>\n<th style=\"text-align:left\">注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">MENU_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">菜单/按钮ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PARENT_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">上级菜单ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MENU_NAME</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">50</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">菜单/按钮名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PATH</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">255</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">对应路由path</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">COMPONENT</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">255</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">对应路由组件component</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PERMS</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">50</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">权限标识</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ICON</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">50</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">图标</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">TYPE</td>\n<td style=\"text-align:left\">char</td>\n<td style=\"text-align:left\">2</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">类型 0菜单 1按钮</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ORDER_NUM</td>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">排序</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CREATE_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">创建时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MODIFY_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">修改时间</td>\n</tr>\n</tbody>\n</table></div></div><p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_menu`  (<br>  `MENU_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&#x27;菜单/按钮ID&#x27;</span>,<br>  `PARENT_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;上级菜单ID&#x27;</span>,<br>  `MENU_NAME` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">50</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;菜单/按钮名称&#x27;</span>,<br>  `PATH` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">255</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;对应路由path&#x27;</span>,<br>  `COMPONENT` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">255</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;对应路由组件component&#x27;</span>,<br>  `PERMS` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">50</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;权限标识&#x27;</span>,<br>  `ICON` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">50</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;图标&#x27;</span>,<br>  `TYPE` <span class=\"hljs-type\">char</span>(<span class=\"hljs-number\">2</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;类型 0菜单 1按钮&#x27;</span>,<br>  `ORDER_NUM` <span class=\"hljs-keyword\">double</span>(<span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;排序&#x27;</span>,<br>  `CREATE_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;创建时间&#x27;</span>,<br>  `MODIFY_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;修改时间&#x27;</span>,<br>  <span class=\"hljs-keyword\">PRIMARY</span> KEY (`MENU_ID`) <span class=\"hljs-keyword\">USING</span> BTREE<br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB AUTO_INCREMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;菜单表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>插入几条数据：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-string\">&#x27;系统管理&#x27;</span>, <span class=\"hljs-string\">&#x27;/system&#x27;</span>, <span class=\"hljs-string\">&#x27;Layout&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;el-icon-set-up&#x27;</span>, <span class=\"hljs-string\">&#x27;0&#x27;</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;2017-12-27 16:39:07&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-07-20 16:19:04&#x27;</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;用户管理&#x27;</span>, <span class=\"hljs-string\">&#x27;/system/user&#x27;</span>, <span class=\"hljs-string\">&#x27;bntang/system/user/Index&#x27;</span>, <span class=\"hljs-string\">&#x27;user:view&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;0&#x27;</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;2017-12-27 16:47:13&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-01-22 06:45:55&#x27;</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&#x27;新增用户&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;user:add&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;1&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;2017-12-27 17:02:58&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&#x27;修改用户&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;user:update&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;1&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;2017-12-27 17:04:07&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&#x27;删除用户&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-string\">&#x27;user:delete&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;1&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>, <span class=\"hljs-string\">&#x27;2017-12-27 17:04:58&#x27;</span>, <span class=\"hljs-keyword\">NULL</span>);<br></code></pre></td></tr></table></figure>\n<h1 id=\"t_user_role-表结构设计\">t_user_role 表结构设计<a title=\"#t_user_role-表结构设计\" href=\"#t_user_role-表结构设计\"></a></h1>\n<p>t_user_role 表用于关联用户和角色表，表结构如下所示：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">长度</th>\n<th style=\"text-align:left\">null</th>\n<th style=\"text-align:left\">主键</th>\n<th style=\"text-align:left\">注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">USER_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">用户ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ROLE_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">角色ID</td>\n</tr>\n</tbody>\n</table></div></div><p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_user_role`  (<br>  `USER_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;用户ID&#x27;</span>,<br>  `ROLE_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;角色ID&#x27;</span><br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;用户角色关联表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>插入一条数据：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_user_role` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>);<br></code></pre></td></tr></table></figure>\n<p>通过这条数据，user_id 为 1 的用户和 role_id 为 1 的角色进行了关联，即 BNTang 用户角色为管理员。</p>\n<h1 id=\"t_role_menu-表结构设计\">t_role_menu 表结构设计<a title=\"#t_role_menu-表结构设计\" href=\"#t_role_menu-表结构设计\"></a></h1>\n<p>t_role_menu 用于关联角色和菜单表，表结构如下所示：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">长度</th>\n<th style=\"text-align:left\">null</th>\n<th style=\"text-align:left\">主键</th>\n<th style=\"text-align:left\">注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">ROLE_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">角色ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MENU_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">菜单/按钮ID</td>\n</tr>\n</tbody>\n</table></div></div><p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_role_menu`  (<br>  `ROLE_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span>,<br>  `MENU_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span><br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;角色菜单关联表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>插入一些数据:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>);<br><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_role_menu` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">5</span>);<br></code></pre></td></tr></table></figure>\n<p>通过这些数据，管理员角色已经拥有系统管理、用户管理、新增用户、修改用户和删除用户权限。</p>\n<h1 id=\"t_dept-表结构设计\">t_dept 表结构设计<a title=\"#t_dept-表结构设计\" href=\"#t_dept-表结构设计\"></a></h1>\n<p>在 t_user 表中，有个 dept_id 字段，表示用户对应的部门。t_dept 表用于存储部门信息，它本质上和 RBAC 没啥关系，一般用于控制数据权限。t_dept 表结构如下所示:</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">字段名</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">长度</th>\n<th style=\"text-align:left\">null</th>\n<th style=\"text-align:left\">主键</th>\n<th style=\"text-align:left\">注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">DEPT_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">部门ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PARENT_ID</td>\n<td style=\"text-align:left\">bigint</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">上级部门ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DEPT_NAME</td>\n<td style=\"text-align:left\">varchar</td>\n<td style=\"text-align:left\">100</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">部门名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ORDER_NUM</td>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:left\">20</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">排序</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CREATE_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">创建时间</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">MODIFY_TIME</td>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">修改时间</td>\n</tr>\n</tbody>\n</table></div></div><p>对应的建表语句为：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> `t_dept`  (<br>  `DEPT_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&#x27;部门ID&#x27;</span>,<br>  `PARENT_ID` <span class=\"hljs-type\">bigint</span>(<span class=\"hljs-number\">20</span>) <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;上级部门ID&#x27;</span>,<br>  `DEPT_NAME` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">100</span>) <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> utf8_general_ci <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;部门名称&#x27;</span>,<br>  `ORDER_NUM` <span class=\"hljs-keyword\">double</span>(<span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;排序&#x27;</span>,<br>  `CREATE_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;创建时间&#x27;</span>,<br>  `MODIFY_TIME` datetime(<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span> COMMENT <span class=\"hljs-string\">&#x27;修改时间&#x27;</span>,<br>  <span class=\"hljs-keyword\">PRIMARY</span> KEY (`DEPT_ID`) <span class=\"hljs-keyword\">USING</span> BTREE<br>) ENGINE <span class=\"hljs-operator\">=</span> InnoDB AUTO_INCREMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-type\">CHARACTER</span> <span class=\"hljs-keyword\">SET</span> <span class=\"hljs-operator\">=</span> utf8 <span class=\"hljs-keyword\">COLLATE</span> <span class=\"hljs-operator\">=</span> utf8_general_ci COMMENT <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;部门表&#x27;</span> ROW_FORMAT <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">Dynamic</span>;<br></code></pre></td></tr></table></figure>\n<p>插入一条部门数据：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> `t_dept` <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-string\">&#x27;开发部&#x27;</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&#x27;2018-01-04 15:42:26&#x27;</span>, <span class=\"hljs-string\">&#x27;2019-01-05 21:08:27&#x27;</span>);<br></code></pre></td></tr></table></figure>","prev":{"title":"关于关闭自动装配","link":"2023/01/06/Java/框架/Spring/01-关于关闭自动装配"},"next":{"title":"Java-跨域处理","link":"2023/01/03/Cors/01-Java-跨域处理"},"plink":"http://example.com/2023/01/03/RBAC/01-表结构设计/","toc":[{"id":"t_user-表结构设计","title":"t_user 表结构设计","index":"1"},{"id":"t_role-角色表设计","title":"t_role 角色表设计","index":"2"},{"id":"t_menu-表结构设计","title":"t_menu 表结构设计","index":"3"},{"id":"t_user_role-表结构设计","title":"t_user_role 表结构设计","index":"4"},{"id":"t_role_menu-表结构设计","title":"t_role_menu 表结构设计","index":"5"},{"id":"t_dept-表结构设计","title":"t_dept 表结构设计","index":"6"}],"reading_time":"2192 words in 15 min"}