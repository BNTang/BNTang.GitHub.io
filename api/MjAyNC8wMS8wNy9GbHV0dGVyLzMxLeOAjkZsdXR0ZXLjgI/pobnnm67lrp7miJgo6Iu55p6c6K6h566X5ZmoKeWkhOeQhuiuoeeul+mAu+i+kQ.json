{"title":"ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è®¡ç®—é€»è¾‘","date":"2024-01-07T13:47:01.000Z","date_formatted":{"ll":"Jan 7, 2024","L":"01/07/2024","MM-DD":"01-07"},"link":"2024/01/07/Flutter/31-ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è®¡ç®—é€»è¾‘","tags":["Flutter"],"updated":"2024-01-19T03:14:11.068Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107214911710-122548879.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h1 id=\"1.å‰è¨€\">1.å‰è¨€<a title=\"#1.å‰è¨€\" href=\"#1.å‰è¨€\"></a></h1>\n<p>ç»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œå·²ç»å®Œæˆäº†é¡¹ç›®çš„è¾“å…¥æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¤„ç†è®¡ç®—é€»è¾‘äº†ã€‚</p>\n<h1 id=\"2.è®¡ç®—é€»è¾‘-acã€+/-ã€%\">2.è®¡ç®—é€»è¾‘ ACã€+/-ã€%<a title=\"#2.è®¡ç®—é€»è¾‘-acã€+/-ã€%\" href=\"#2.è®¡ç®—é€»è¾‘-acã€+/-ã€%\"></a></h1>\n<p>é¦–å…ˆå®ç° <code>AC</code>ã€<code>+/-</code>ã€<code>%</code>ï¼Œå…ˆå®šä¹‰éœ€è¦ä½¿ç”¨çš„å˜é‡ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// ä¿å­˜å‰é¢è¾“å…¥æ•°æ®</span><br><span class=\"hljs-built_in\">dynamic</span> _num1 = <span class=\"hljs-number\">0</span>;<br><span class=\"hljs-comment\">// ä¿å­˜åé¢è¾“å…¥æ•°æ®</span><br><span class=\"hljs-built_in\">dynamic</span> _num2 = <span class=\"hljs-number\">0</span>;<br><span class=\"hljs-comment\">// ä¿å­˜å½“å‰è®¡ç®—çŠ¶æ€</span><br><span class=\"hljs-built_in\">bool</span> isCalculate = <span class=\"hljs-keyword\">false</span>;<br></code></pre></td></tr></table></figure>\n<p>ç„¶åå®ç° <code>AC</code>ã€<code>+/-</code>ã€<code>%</code> çš„ç‚¹å‡»äº‹ä»¶ï¼š</p>\n<p><code>AC</code>ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\">_output = <span class=\"hljs-string\">&quot;0&quot;</span>;<br>_num1 = <span class=\"hljs-number\">0</span>;<br>_num2 = <span class=\"hljs-number\">0</span>;<br>isCalculate = <span class=\"hljs-keyword\">false</span>;<br></code></pre></td></tr></table></figure>\n<p><code>+/-</code>ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// è´Ÿè´Ÿå¾—æ­£</span><br><span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>))&#123;<br>  <span class=\"hljs-comment\">// å°æ•°</span><br>  _output = (-<span class=\"hljs-built_in\">double</span>.parse(_output)).toString();<br>&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>  <span class=\"hljs-comment\">// æ•´æ•°</span><br>  _output = (-<span class=\"hljs-built_in\">int</span>.parse(_output)).toString();<br>&#125;<br></code></pre></td></tr></table></figure>\n<p><code>%</code>, åœ¨å®ç° <code>%</code> ä¹‹å‰ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹åœ¨ Flutter ä¸­å¦‚ä½•å®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼Œå› ä¸ºè¿™é‡Œæˆ‘éœ€è¦ä½¿ç”¨åˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“æ¥è§£å†³ç²¾åº¦é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ï¼š</p>\n<p>åœ¨ Flutter ä¸­å®‰è£…ç¬¬ä¸‰æ–¹åº“é€šå¸¸æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>\n<ol>\n<li><strong>æ‰¾åˆ°åº“</strong>: è®¿é—® <a href=\"https://pub.dev/\" target=\"_blank\">pub.dev</a>ï¼ˆå®˜æ–¹çš„ Flutter å’Œ Dart åŒ…ç®¡ç†ç½‘ç«™ï¼‰ï¼Œå¹¶æ‰¾åˆ°ä½ éœ€è¦çš„åº“ã€‚åº“é¡µé¢å°†æä¾›å®‰è£…æŒ‡ä»¤ã€æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹ã€‚</li>\n<li><strong>æ›´æ–° <code>pubspec.yaml</code> æ–‡ä»¶</strong>: åœ¨ä½ çš„ Flutter é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰¾åˆ° <code>pubspec.yaml</code> æ–‡ä»¶ã€‚åœ¨ <code>dependencies</code> éƒ¨åˆ†æ·»åŠ ä½ æƒ³è¦å®‰è£…çš„åº“åŠå…¶ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³å®‰è£…ä¸€ä¸ªåä¸º <code>http</code> çš„åº“ï¼Œä½ ä¼šè¿™æ ·åš:</li>\n</ol>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs yaml\"><span class=\"hljs-attr\">dependencies:</span><br>  <span class=\"hljs-attr\">flutter:</span><br>    <span class=\"hljs-attr\">sdk:</span> <span class=\"hljs-string\">flutter</span><br>  <span class=\"hljs-comment\"># æ·»åŠ è¿™è¡Œï¼Œç‰ˆæœ¬å·å¯èƒ½ä¸åŒ</span><br>  <span class=\"hljs-attr\">http:</span> <span class=\"hljs-string\">^0.13.3</span><br></code></pre></td></tr></table></figure>\n<p><strong>å®‰è£…åº“</strong>: æ‰“å¼€ç»ˆç«¯ï¼ˆæˆ–å‘½ä»¤æç¤ºç¬¦ã€æˆ–IDEçš„ç»ˆç«¯ï¼‰ï¼Œå¯¼èˆªåˆ°ä½ çš„é¡¹ç›®ç›®å½•ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è·å–å’Œå®‰è£…æ–°çš„ä¾èµ–ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">flutter pub get<br></code></pre></td></tr></table></figure>\n<p><strong>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åº“</strong>: åœ¨ä½ çš„ Dart ä»£ç ä¸­ï¼Œç°åœ¨ä½ å¯ä»¥å¼•ç”¨å¹¶ä½¿ç”¨è¿™ä¸ªåº“äº†ã€‚é€šå¸¸ï¼Œä½ éœ€è¦å¯¼å…¥åŒ…å«ä½ éœ€è¦çš„åŠŸèƒ½çš„ç‰¹å®šæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å®‰è£…äº† <code>http</code> åº“ï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·åšï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:http/http.dart&#x27;</span> <span class=\"hljs-keyword\">as</span> http;<br></code></pre></td></tr></table></figure>\n<p><strong>æŸ¥çœ‹æ–‡æ¡£å’Œç¤ºä¾‹</strong>: è¿”å›åˆ°ä½ åœ¨ pub.dev ä¸Šæ‰¾åˆ°çš„åº“é¡µé¢ï¼Œé˜…è¯»æ–‡æ¡£å’ŒæŸ¥çœ‹ç¤ºä¾‹ä»£ç ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåº“ã€‚</p>\n<p>ç¡®ä¿éµå¾ªåº“çš„å®˜æ–¹æ–‡æ¡£ï¼Œå› ä¸ºä¸åŒçš„åº“å¯èƒ½æœ‰ç‰¹å®šçš„å®‰è£…æ­¥éª¤æˆ–ä¾èµ–è¦æ±‚ã€‚</p>\n<p>æˆ‘è¿™é‡Œä½¿ç”¨ <code>decimal</code>ï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107215938312-585281384.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107220006449-1802655239.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p><code>%</code>ï¼š</p>\n<p>å®‰è£… <code>decimal</code>ï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107220236154-456029451.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">flutter pub get<br></code></pre></td></tr></table></figure>\n<p>å¯¼å…¥ä¸å®šä¹‰ <code>decimal</code>ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// å¼•å…¥è§£å†³ä¸¢å¤±ç²¾åº¦åº“</span><br><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:decimal/decimal.dart&#x27;</span>;<br></code></pre></td></tr></table></figure>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// å¿«é€Ÿå¤„ç†ä¸¢å¤±ç²¾åº¦ç»“æ„</span><br><span class=\"hljs-keyword\">final</span> d = (<span class=\"hljs-built_in\">String</span> s) =&gt; Decimal.parse(s);<br></code></pre></td></tr></table></figure>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// ç™¾åˆ†å·, é™¤ä»¥100</span><br>_output = (d(_output) / d(<span class=\"hljs-string\">&quot;100.0&quot;</span>)).toDouble().toString();<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107220425554-733932633.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>æŸ¥çœ‹ä¸€æ³¢æ•ˆæœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107220536772-1271737152.gif\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h1 id=\"3.è®¡ç®—é€»è¾‘-+ã€-ã€xã€Ã·ã€=\">3.è®¡ç®—é€»è¾‘ +ã€-ã€xã€Ã·ã€=<a title=\"#3.è®¡ç®—é€»è¾‘-+ã€-ã€xã€Ã·ã€=\" href=\"#3.è®¡ç®—é€»è¾‘-+ã€-ã€xã€Ã·ã€=\"></a></h1>\n<p>åœ¨å®šä¹‰ä¸€ä¸ªå˜é‡ç”¨äºä¿å­˜å½“å‰è¿ç®—ç¬¦ <code>_operand</code>ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¿ç®—ç¬¦</span><br><span class=\"hljs-built_in\">String</span> _operand = <span class=\"hljs-string\">&quot;&quot;</span>;<br></code></pre></td></tr></table></figure>\n<p>ç„¶åå®ç° <code>+</code>ã€<code>-</code>ã€<code>x</code>ã€<code>Ã·</code>ã€<code>=</code> çš„ç‚¹å‡»äº‹ä»¶ï¼š</p>\n<p><code>+</code>ã€<code>-</code>ã€<code>x</code>ã€<code>Ã·</code>ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;Ã·&quot;</span>:<br>  isCalculate = <span class=\"hljs-keyword\">true</span>;<br>  _operand = btnText;<br><br>  <span class=\"hljs-comment\">// å¦‚æœå·²ç»ä¿å­˜äº†ä¸Šä¸€æ¬¡è¾“å…¥å†…å®¹, é‚£ä¹ˆå°±åšè¿ç®—</span><br>  <span class=\"hljs-keyword\">if</span> (_num1 != <span class=\"hljs-number\">0</span>) &#123;<br>    <span class=\"hljs-comment\">// å°æ•°ä¹‹é—´çš„è¿ç®—</span><br>    <span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>) || _num1 <span class=\"hljs-keyword\">is</span> <span class=\"hljs-built_in\">double</span>) &#123;<br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) / d(_num2.toString()))<br>          .toDouble()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æ•´æ•°ä¹‹é—´è¿ç®—</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _output = (d(_num1.toString()) / d(_num2.toString()))<br>          .toBigInt()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">int</span>.parse(_output);<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">break</span>;<br><span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;x&quot;</span>:<br>  isCalculate = <span class=\"hljs-keyword\">true</span>;<br>  _operand = btnText;<br>  <span class=\"hljs-comment\">// å¦‚æœå·²ç»ä¿å­˜äº†ä¸Šä¸€æ¬¡è¾“å…¥å†…å®¹, é‚£ä¹ˆå°±åšè¿ç®—</span><br>  <span class=\"hljs-keyword\">if</span> (_num1 != <span class=\"hljs-number\">0</span>) &#123;<br>    <span class=\"hljs-comment\">// å°æ•°ä¹‹é—´çš„è¿ç®—</span><br>    <span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>) || _num1 <span class=\"hljs-keyword\">is</span> <span class=\"hljs-built_in\">double</span>) &#123;<br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) * d(_num2.toString()))<br>          .toDouble()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æ•´æ•°ä¹‹é—´è¿ç®—</span><br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) * d(_num2.toString()))<br>          .toBigInt()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">int</span>.parse(_output);<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">break</span>;<br><span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;+&quot;</span>:<br>  isCalculate = <span class=\"hljs-keyword\">true</span>;<br>  _operand = btnText;<br>  <span class=\"hljs-keyword\">if</span> (_num1 != <span class=\"hljs-number\">0</span>) &#123;<br>    <span class=\"hljs-comment\">// å¦‚æœå·²ç»ä¿å­˜äº†ä¸Šä¸€æ¬¡è¾“å…¥å†…å®¹, é‚£ä¹ˆå°±åšè¿ç®—</span><br>    <span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>) || _num1 <span class=\"hljs-keyword\">is</span> <span class=\"hljs-built_in\">double</span>) &#123;<br>      <span class=\"hljs-comment\">// å°æ•°ä¹‹é—´çš„è¿ç®—</span><br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) + d(_num2.toString()))<br>          .toDouble()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æ•´æ•°ä¹‹é—´è¿ç®—</span><br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) + d(_num2.toString()))<br>          .toBigInt()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">int</span>.parse(_output);<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">break</span>;<br><span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;-&quot;</span>:<br>  isCalculate = <span class=\"hljs-keyword\">true</span>;<br>  _operand = btnText;<br>  <span class=\"hljs-keyword\">if</span> (_num1 != <span class=\"hljs-number\">0</span>) &#123;<br>    <span class=\"hljs-comment\">// å¦‚æœå·²ç»ä¿å­˜äº†ä¸Šä¸€æ¬¡è¾“å…¥å†…å®¹, é‚£ä¹ˆå°±åšè¿ç®—</span><br>    <span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>) || _num1 <span class=\"hljs-keyword\">is</span> <span class=\"hljs-built_in\">double</span>) &#123;<br>      <span class=\"hljs-comment\">// å°æ•°ä¹‹é—´çš„è¿ç®—</span><br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) - d(_num2.toString()))<br>          .toDouble()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æ•´æ•°ä¹‹é—´è¿ç®—</span><br>      <span class=\"hljs-comment\">// ä¿å­˜å½“å‰è¾“å…¥å€¼</span><br>      _num2 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>      _output = (d(_num1.toString()) - d(_num2.toString()))<br>          .toBigInt()<br>          .toString();<br>      _num1 = <span class=\"hljs-built_in\">int</span>.parse(_output);<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">break</span>;<br><span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;=&quot;</span>:<br>  onBtnClick(_operand);<br>  _operand = <span class=\"hljs-string\">&quot;&quot;</span>;<br>  isCalculate = <span class=\"hljs-keyword\">false</span>;<br>  _num1 = <span class=\"hljs-number\">0</span>;<br>  _num2 = <span class=\"hljs-number\">0</span>;<br>  <span class=\"hljs-keyword\">break</span>;<br></code></pre></td></tr></table></figure>\n<p>default é‡Œé¢çš„é€»è¾‘ï¼Œè¿˜éœ€è¦æ”¹åŠ¨ä¸€ä¸‹ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\"><span class=\"hljs-comment\">// åˆ¤æ–­æ˜¯å¦ç‚¹å‡»äº†è¿ç®—ç¬¦, å¦‚æœç‚¹å‡»äº†å°±å°†å½“å‰çš„æ•°æ®å…ˆå­˜å‚¨èµ·æ¥</span><br><span class=\"hljs-keyword\">if</span> (isCalculate) &#123;<br>  <span class=\"hljs-keyword\">if</span> (_output.contains(<span class=\"hljs-string\">&quot;.&quot;</span>)) &#123;<br>    _num1 = <span class=\"hljs-built_in\">double</span>.parse(_output);<br>  &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>    _num1 = <span class=\"hljs-built_in\">int</span>.parse(_output);<br>  &#125;<br>  _output = <span class=\"hljs-string\">&quot;0&quot;</span>;<br>  isCalculate = <span class=\"hljs-keyword\">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107223320893-1747393828.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p><code>AC</code> éœ€è¦åœ¨åŠ ä¸€å¥æ¸…ç©ºå½“å‰è¿ç®—ç¬¦çš„ä»£ç ï¼š</p>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dart\">_operand = <span class=\"hljs-string\">&quot;&quot;</span>;<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107223528878-1513706867.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>å¥½ï¼Œä»£ç å†™å®Œäº†ï¼Œæˆ‘ä¸»è¦è§£é‡Šä¸‹ <code>é™¤æ³•</code> ä¸ <code>=</code> çš„é€»è¾‘, ç„¶åå…¶å®ƒçš„å°±æ˜¯ç±»ä¼¼çš„äº†ã€‚</p>\n<p>å®ç° <code>+</code> çš„é€»è¾‘, é¦–å…ˆè¦å°† isCalculate è®¾ç½®ä¸º true, ç„¶åå°†å½“å‰çš„è¿ç®—ç¬¦ä¿å­˜åˆ° <code>_operand</code> ä¸­ï¼Œç„¶ååˆ¤æ–­ <code>_num1</code> æ˜¯å¦ä¸º 0ï¼Œå¦‚æœä¸ä¸º 0ï¼Œè¯´æ˜å·²ç»ä¿å­˜äº†ä¸Šä¸€æ¬¡è¾“å…¥çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±åšè¿ç®—ï¼Œå¦‚æœä¸º 0ï¼Œè¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡è¾“å…¥ï¼Œé‚£ä¹ˆå°±ä¸åšè¿ç®—ã€‚</p>\n<p>ç„¶ååˆ¤æ–­ <code>_output</code> æ˜¯å¦åŒ…å«å°æ•°ç‚¹ï¼Œå¦‚æœåŒ…å«å°æ•°ç‚¹ï¼Œè¯´æ˜æ˜¯å°æ•°ï¼Œé‚£ä¹ˆå°±å°† <code>_num1</code> å’Œ <code>_num2</code> éƒ½è½¬æ¢ä¸º <code>double</code> ç±»å‹ï¼Œç„¶ååšé™¤æ³•è¿ç®—ï¼Œæœ€åå°†ç»“æœè½¬æ¢ä¸º <code>String</code> ç±»å‹ï¼Œç„¶åå°† <code>_num1</code> ä¿å­˜ä¸ºå½“å‰çš„ç»“æœã€‚</p>\n<p>å¦‚æœä¸åŒ…å«å°æ•°ç‚¹ï¼Œè¯´æ˜æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆå°±å°† <code>_num1</code> å’Œ <code>_num2</code> éƒ½è½¬æ¢ä¸º <code>int</code> ç±»å‹ï¼Œç„¶ååšé™¤æ³•è¿ç®—ï¼Œæœ€åå°†ç»“æœè½¬æ¢ä¸º <code>String</code> ç±»å‹ï¼Œç„¶åå°† <code>_num1</code> ä¿å­˜ä¸ºå½“å‰çš„ç»“æœã€‚</p>\n<p>å®ç° <code>=</code> çš„é€»è¾‘ï¼Œé¦–å…ˆè°ƒç”¨ <code>onBtnClick</code> æ–¹æ³•ï¼Œå°†å½“å‰çš„è¿ç®—ç¬¦ä¼ é€’è¿›å»ï¼Œç„¶åå°† <code>_operand</code> è®¾ç½®ä¸ºç©ºï¼Œå°† <code>isCalculate</code> è®¾ç½®ä¸º falseï¼Œå°† <code>_num1</code> å’Œ <code>_num2</code> è®¾ç½®ä¸º 0ã€‚</p>\n<p>æœ€åçš„æ•ˆæœï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107223949505-440792031.gif\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ä»£ç ä¸­æœ‰å¯ä¼˜åŒ–çš„ä»£ç ï¼Œæˆ‘å°±ä¸ä¼˜åŒ–äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¼˜åŒ–ã€‚</p>\n<h1 id=\"end\">End<a title=\"#end\" href=\"#end\"></a></h1>\n<blockquote>\n<ul>\n<li>ğŸ¤å¦‚æœæ‚¨å¯¹æœ¬æ–‡æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘å°†å¾ˆä¹æ„ä¸æ‚¨äº¤æµã€‚</li>\n<li>ğŸ°æ‚¨çš„æ¯ä¸€æ¡è¯„è®ºå¯¹æˆ‘éƒ½è‡³å…³é‡è¦ï¼Œæˆ‘ä¼šå°½å¿«ç»™äºˆå›å¤ã€‚</li>\n<li>ğŸˆå¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¯å‘æˆ–å¸®åŠ©ï¼Œè¯·ä¸åèµèµã€æ”¶è—æˆ–åˆ†äº«ã€‚</li>\n<li>ğŸæ‚¨çš„æ¯ä¸€ä¸ªåŠ¨ä½œéƒ½æ˜¯å¯¹æˆ‘åˆ›ä½œçš„æœ€å¤§é¼“åŠ±å’Œæ”¯æŒã€‚</li>\n<li>ğŸ‘è°¢è°¢æ‚¨çš„é˜…è¯»å’Œé™ªä¼´ï¼</li>\n<li>ğŸ˜å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å· <code>BNTang</code>ï¼Œæˆ‘ä¼šä¸å®šæœŸåˆ†äº«ä¸€äº›å¹²è´§æ–‡ç« ã€‚</li>\n<li>ğŸ»æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„ï¼</li>\n</ul>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231211215004818-977875224.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n","prev":{"title":"ã€Flutterã€æ‰“åŒ…åº”ç”¨ç¨‹åº","link":"2024/01/07/Flutter/32-ã€Flutterã€æ‰“åŒ…åº”ç”¨ç¨‹åº"},"next":{"title":"ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è¾“å…¥æ•°æ®","link":"2024/01/07/Flutter/30-ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è¾“å…¥æ•°æ®"},"plink":"http://example.com/2024/01/07/Flutter/31-ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è®¡ç®—é€»è¾‘/","toc":[{"id":"1.å‰è¨€","title":"1.å‰è¨€","index":"1"},{"id":"2.è®¡ç®—é€»è¾‘-acã€+/-ã€%","title":"2.è®¡ç®—é€»è¾‘ ACã€+&#x2F;-ã€%","index":"2"},{"id":"3.è®¡ç®—é€»è¾‘-+ã€-ã€xã€Ã·ã€=","title":"3.è®¡ç®—é€»è¾‘ +ã€-ã€xã€Ã·ã€&#x3D;","index":"3"},{"id":"end","title":"End","index":"4"}]}