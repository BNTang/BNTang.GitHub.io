{"title":"ã€Flutterã€æ‰“åŒ…åº”ç”¨ç¨‹åº","date":"2024-01-07T14:41:12.000Z","date_formatted":{"ll":"Jan 7, 2024","L":"01/07/2024","MM-DD":"01-07"},"link":"2024/01/07/Flutter/32-ã€Flutterã€æ‰“åŒ…åº”ç”¨ç¨‹åº","tags":["Flutter"],"updated":"2024-01-19T03:14:11.068Z","content":"<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107224144919-1607380898.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h1 id=\"1.å‰è¨€\">1.å‰è¨€<a title=\"#1.å‰è¨€\" href=\"#1.å‰è¨€\"></a></h1>\n<p>ç»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« , ç»™å¤§å®¶å†™äº†ä¸€ä¸ªè®¡ç®—å™¨çš„é¡¹ç›®ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰“åŒ…åº”ç”¨ç¨‹åºäº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé¡¹ç›®æ‰“åŒ…æˆä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç„¶åå®‰è£…åˆ°æ‰‹æœºä¸Šä½¿ç”¨ã€‚</p>\n<h1 id=\"2.æ‰“åŒ…åº”ç”¨ç¨‹åº\">2.æ‰“åŒ…åº”ç”¨ç¨‹åº<a title=\"#2.æ‰“åŒ…åº”ç”¨ç¨‹åº\" href=\"#2.æ‰“åŒ…åº”ç”¨ç¨‹åº\"></a></h1>\n<p>é¦–å…ˆæˆ‘å»å®˜æ–¹æ–‡æ¡£æ‰¾æŸ¥æ‰¾å‘ç°äº†ä¸€ä¸ªæ‰“åŒ…åº”ç”¨ç¨‹åºçš„æ•™ç¨‹ï¼Œåœ°å€ï¼š<a href=\"https://flutter.cn/docs/deployment\" target=\"_blank\">https://flutter.cn/docs/deployment</a></p>\n<p>è¿™é‡Œé¢æœ‰å¾ˆå¤šçš„æ‰“åŒ…æ–¹å¼ï¼Œæˆ‘è¿™é‡Œé€‰æ‹© <code>Android</code> å…¶å®ƒçš„åªéœ€è¦è‡ªå·±å»ç…§ç€æ–‡æ¡£æ“ä½œå°±å¯ä»¥äº†ã€‚</p>\n<p>æ‰“åŒ…æˆ <code>Android</code> åº”ç”¨ç¨‹åºæˆ‘æ€»ç»“äº†ä¸€ä¸‹ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<h1 id=\"3.æ­¥éª¤\">3.æ­¥éª¤<a title=\"#3.æ­¥éª¤\" href=\"#3.æ­¥éª¤\"></a></h1>\n<h2 id=\"3.1.åœ¨-androidmanifest.xml-ä¸­è®¾ç½®åº”ç”¨åç§°\">3.1.åœ¨ AndroidManifest.xml ä¸­è®¾ç½®åº”ç”¨åç§°<a title=\"#3.1.åœ¨-androidmanifest.xml-ä¸­è®¾ç½®åº”ç”¨åç§°\" href=\"#3.1.åœ¨-androidmanifest.xml-ä¸­è®¾ç½®åº”ç”¨åç§°\"></a></h2>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107231007738-17074068.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h2 id=\"3.2.åœ¨-build.gradle-ä¸­è®¾ç½®åº”ç”¨çš„id\">3.2.åœ¨ build.gradle ä¸­è®¾ç½®åº”ç”¨çš„ID<a title=\"#3.2.åœ¨-build.gradle-ä¸­è®¾ç½®åº”ç”¨çš„id\" href=\"#3.2.åœ¨-build.gradle-ä¸­è®¾ç½®åº”ç”¨çš„id\"></a></h2>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107231237741-1697696150.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<h2 id=\"3.3.åœ¨-res-ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡\">3.3.åœ¨ res ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡<a title=\"#3.3.åœ¨-res-ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡\" href=\"#3.3.åœ¨-res-ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡\"></a></h2>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107231523755-885752716.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>è¿™ä¸ªåº”ç”¨å›¾æ ‡ï¼Œå¯ä»¥è®©ç¾å·¥ç»™ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰¾ä¸€äº›å·¥å…·ç½‘ç«™å¯ä»¥ä¸€é”®ç”Ÿæˆï¼Œåªéœ€è¦è‡ªå·±ç»™ä¸€å¼ å›¾ç‰‡ï¼Œå·¥å…·ç½‘ç«™å°±ä¼šè‡ªåŠ¨ç»™ä½ ç”Ÿæˆå…¶ä»–å°ºå¯¸çš„å›¾æ ‡æ–‡ä»¶ã€‚</p>\n<p>ä¾‹å¦‚åº¦å¨˜æœç´¢ï¼š<code>make application icons</code>ï¼Œç„¶åè‡ªå·±æ‰¾ä¸€ä¸‹å³å¯ã€‚</p>\n<h2 id=\"3.4.é…ç½®ç­¾å\">3.4.é…ç½®ç­¾å<a title=\"#3.4.é…ç½®ç­¾å\" href=\"#3.4.é…ç½®ç­¾å\"></a></h2>\n<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href=\"https://flutter.cn/docs/deployment/android#%E4%B8%BA-app-%E7%AD%BE%E5%90%8D\" target=\"_blank\">https://flutter.cn/docs/deployment/android#ä¸º-app-ç­¾å</a></p>\n<p>åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œåœ¨ PoweShell å†…æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks ^<br>        -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 ^<br>        -alias upload<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107231946254-1484493968.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>å°†ç”Ÿæˆçš„ç§˜é’¥æ‹·è´åˆ°é¡¹ç›®çš„ app ç›®å½•ä¸‹ï¼š</p>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107232159415-1225338810.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ä» app ä¸­å¼•ç”¨å¯†é’¥åº“ï¼š</p>\n<p>åˆ›å»ºä¸€ä¸ªåä¸º <code>[project]/android/key.properties</code> çš„æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å¯†é’¥åº“ä½ç½®çš„å®šä¹‰ã€‚åœ¨æ›¿æ¢å†…å®¹æ—¶è¯·å»é™¤ <code>&lt; &gt;</code> æ‹¬å·ï¼š</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs properties\"><span class=\"hljs-attr\">storePassword</span>=<span class=\"hljs-string\">&lt;password-from-previous-step&gt;</span><br><span class=\"hljs-attr\">keyPassword</span>=<span class=\"hljs-string\">&lt;password-from-previous-step&gt;</span><br><span class=\"hljs-attr\">keyAlias</span>=<span class=\"hljs-string\">upload</span><br><span class=\"hljs-attr\">storeFile</span>=<span class=\"hljs-string\">&lt;keystore-file-location&gt;</span><br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107232351528-1829302062.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>åœ¨ gradle ä¸­é…ç½®ç­¾åï¼š</p>\n<p>åœ¨ä»¥ release æ¨¡å¼ä¸‹æ„å»ºä½ çš„åº”ç”¨æ—¶ï¼Œä¿®æ”¹ <code>[project]/android/app/build.gradle</code> æ–‡ä»¶ï¼Œä»¥é€šè¿‡ gradle é…ç½®ä½ çš„ä¸Šä¼ å¯†é’¥ã€‚</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs tex\">def keystoreProperties = new Properties()<br>def keystorePropertiesFile = rootProject.file(&#x27;key.properties&#x27;)<br>if (keystorePropertiesFile.exists()) &#123;<br>    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))<br>&#125;<br><br>android &#123;<br>\t...<br>&#125;<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107232502608-804719760.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>æ‰¾åˆ° <code>buildTypes</code> ä»£ç å—, å°†å…¶æ›¿æ¢ä¸ºæˆ‘ä»¬çš„é…ç½®å†…å®¹ï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs tex\">signingConfigs &#123;<br>    release &#123;<br>        keyAlias keystoreProperties[&#x27;keyAlias&#x27;]<br>        keyPassword keystoreProperties[&#x27;keyPassword&#x27;]<br>        storeFile keystoreProperties[&#x27;storeFile&#x27;] ? file(keystoreProperties[&#x27;storeFile&#x27;]) : null<br>        storePassword keystoreProperties[&#x27;storePassword&#x27;]<br>    &#125;<br>&#125;<br><br>buildTypes &#123;<br>    release &#123;<br>        signingConfig signingConfigs.release<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n<p>åˆ°æ­¤æˆ‘ä»¬éœ€è¦é…ç½®çš„å†…å®¹å°±å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰“åŒ…äº†ã€‚</p>\n<h2 id=\"3.5.æ‰“åŒ…\">3.5.æ‰“åŒ…<a title=\"#3.5.æ‰“åŒ…\" href=\"#3.5.æ‰“åŒ…\"></a></h2>\n<p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">flutter build apk<br></code></pre></td></tr></table></figure>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202401/2105804-20240107232943620-1269803317.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>å¥½äº†ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬çš„æ‰“åŒ…å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®‰è£…åˆ°æ‰‹æœºä¸Šäº†ï¼ˆç•¥è¿‡ï¼‰ã€‚</p>\n<p>åšä¸»æ²¡æœ‰ mac ç”µè„‘ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•æ‰“åŒ…æˆ <code>IOS</code> åº”ç”¨ç¨‹åºï¼Œå¦‚æœæœ‰å°ä¼™ä¼´æœ‰ mac ç”µè„‘ï¼Œå¯ä»¥è‡ªå·±å»å°è¯•ä¸€ä¸‹ã€‚å‚è€ƒå®˜æ–¹æ–‡æ¡£å³å¯ï¼ŒåŒä¸€ä¸ªä¸–ç•ŒåŒä¸€ä¸ªæ¢¦æƒ³çš„éƒ½æ˜¯ã€‚</p>\n<h1 id=\"end\">End<a title=\"#end\" href=\"#end\"></a></h1>\n<blockquote>\n<ul>\n<li>ğŸ¤å¦‚æœæ‚¨å¯¹æœ¬æ–‡æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘å°†å¾ˆä¹æ„ä¸æ‚¨äº¤æµã€‚</li>\n<li>ğŸ°æ‚¨çš„æ¯ä¸€æ¡è¯„è®ºå¯¹æˆ‘éƒ½è‡³å…³é‡è¦ï¼Œæˆ‘ä¼šå°½å¿«ç»™äºˆå›å¤ã€‚</li>\n<li>ğŸˆå¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¯å‘æˆ–å¸®åŠ©ï¼Œè¯·ä¸åèµèµã€æ”¶è—æˆ–åˆ†äº«ã€‚</li>\n<li>ğŸæ‚¨çš„æ¯ä¸€ä¸ªåŠ¨ä½œéƒ½æ˜¯å¯¹æˆ‘åˆ›ä½œçš„æœ€å¤§é¼“åŠ±å’Œæ”¯æŒã€‚</li>\n<li>ğŸ‘è°¢è°¢æ‚¨çš„é˜…è¯»å’Œé™ªä¼´ï¼</li>\n<li>ğŸ˜å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å· <code>BNTang</code>ï¼Œæˆ‘ä¼šä¸å®šæœŸåˆ†äº«ä¸€äº›å¹²è´§æ–‡ç« ã€‚</li>\n<li>ğŸ»æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„ï¼</li>\n</ul>\n</blockquote>\n<p><img src=\"https://img2023.cnblogs.com/blog/2105804/202312/2105804-20231211215004818-977875224.png\" alt loading=\"lazy\" class=\"Ï†bp\"></p>\n","prev":{"title":"ã€promptã€å¼€ç¯‡","link":"2024/01/09/AI/Prompt/01-ã€promptã€å¼€ç¯‡"},"next":{"title":"ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è®¡ç®—é€»è¾‘","link":"2024/01/07/Flutter/31-ã€Flutterã€é¡¹ç›®å®æˆ˜(è‹¹æœè®¡ç®—å™¨)å¤„ç†è®¡ç®—é€»è¾‘"},"plink":"http://example.com/2024/01/07/Flutter/32-ã€Flutterã€æ‰“åŒ…åº”ç”¨ç¨‹åº/","toc":[{"id":"1.å‰è¨€","title":"1.å‰è¨€","index":"1"},{"id":"2.æ‰“åŒ…åº”ç”¨ç¨‹åº","title":"2.æ‰“åŒ…åº”ç”¨ç¨‹åº","index":"2"},{"id":"3.æ­¥éª¤","title":"3.æ­¥éª¤","index":"3","children":[{"id":"3.1.åœ¨-androidmanifest.xml-ä¸­è®¾ç½®åº”ç”¨åç§°","title":"3.1.åœ¨ AndroidManifest.xml ä¸­è®¾ç½®åº”ç”¨åç§°","index":"3.1"},{"id":"3.2.åœ¨-build.gradle-ä¸­è®¾ç½®åº”ç”¨çš„id","title":"3.2.åœ¨ build.gradle ä¸­è®¾ç½®åº”ç”¨çš„ID","index":"3.2"},{"id":"3.3.åœ¨-res-ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡","title":"3.3.åœ¨ res ä¸­æ·»åŠ åº”ç”¨å›¾æ ‡","index":"3.3"},{"id":"3.4.é…ç½®ç­¾å","title":"3.4.é…ç½®ç­¾å","index":"3.4"},{"id":"3.5.æ‰“åŒ…","title":"3.5.æ‰“åŒ…","index":"3.5"}]},{"id":"end","title":"End","index":"4"}]}