{"title":"微信小程序-touches和changedTouches","date":"2023-04-20T15:45:36.000Z","date_formatted":{"ll":"Apr 20, 2023","L":"04/20/2023","MM-DD":"04-20"},"link":"2023/04/20/Web/微信小程序/event/30-微信小程序-touches和changedTouches","tags":["微信小程序"],"updated":"2023-04-20T16:17:02.045Z","content":"<p>在经过上一篇文章的介绍，已经清楚的了解了data与mark的区别，本章将要介绍的也是事件对象当中的两个属性，分别是，touches与changedTouches。</p>\n<p>首先我们先搭建一个案例，运行这个案例看输出的事件对象当中，这个两个属性分别保存的是什么内容。</p>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">bind:tap</span>=<span class=\"hljs-string\">&quot;onTap&quot;</span>&gt;</span>我是View<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>index.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Page</span>(&#123;<br>  <span class=\"hljs-attr\">onTap</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>)&#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(event)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>\n<p>输出结果：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">changedTouches: [&#123;…&#125;]<br>currentTarget: &#123;id: &quot;&quot;, offsetLeft: 0, offsetTop: 0, dataset: &#123;…&#125;&#125;<br>detail: &#123;x: 43, y: 12.75&#125;<br>mark: &#123;&#125;<br>mut: false<br>target: &#123;id: &quot;&quot;, offsetLeft: 0, offsetTop: 0, dataset: &#123;…&#125;&#125;<br>timeStamp: 332421<br>touches: [&#123;…&#125;]<br>type: &quot;tap&quot;<br>_userTap: true<br></code></pre></td></tr></table></figure>\n<p>这里我们发现，这两个属性分别保存的是数组, 可以看出是多个内容，具体是什么内容，就要从他们之间的区别开始说起。</p>\n<h1 id=\"touches和changedtouches的区别\">touches和changedTouches的区别<a title=\"#touches和changedtouches的区别\" href=\"#touches和changedtouches的区别\"></a></h1>\n<p>看区别之前，我们来看看他们的作用分别是什么：</p>\n<p>?&gt; 作用：保存当前操作元素的手指数据(pageXY/ClientXY按下的数据)</p>\n<p>区别：</p>\n<ul>\n<li>\n<p>如果只有一根手指操作，那么没有任何的区别（两个属性存放的值是一样的）</p>\n</li>\n<li>\n<p>如果是多根手指操作，那么<code>有可能</code>有区别（因为两个属性存储的数据类型是数组）</p>\n</li>\n<li>\n<p>如果是多根手指同时按下，那么没有区别（两个属性存放的值是一样的）</p>\n</li>\n<li>\n<p>touches中保存的是所有按下的手指</p>\n</li>\n<li>\n<p>changedTouches中保存的是发生变化的手指</p>\n</li>\n</ul>\n<p>例如：目前有三根手指，一根先按下，另外两根后按下：</p>\n<ul>\n<li>那么 touches 中保存的就是三根手指的位置</li>\n<li>那么 changedTouches 中保存的就是后按下的那两根手指位置</li>\n</ul>\n<p>最后举例的这个证明，也是可以证明的，我们可以使用 <code>touchend</code> 事件来进行演示即可更改代码：</p>\n<p>index.wxml:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">view</span> <span class=\"hljs-attr\">bind:touchend</span>=<span class=\"hljs-string\">&quot;onTouchend&quot;</span>&gt;</span>我是View<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">view</span>&gt;</span><br></code></pre></td></tr></table></figure>\n<p>运行结果：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">changedTouches: [&#123;…&#125;]<br>currentTarget: &#123;id: &quot;&quot;, offsetLeft: 0, offsetTop: 0, dataset: &#123;…&#125;&#125;<br>detail: &#123;&#125;<br>mark: &#123;&#125;<br>mut: false<br>target: &#123;id: &quot;&quot;, offsetLeft: 0, offsetTop: 0, dataset: &#123;…&#125;&#125;<br>timeStamp: 863392<br>touches: []<br>type: &quot;touchend&quot;<br>_requireActive: false<br>_userTap: false<br></code></pre></td></tr></table></figure>\n<p>我们可以看到 <code>touches</code> 存放的是空，为什么是空呢，因为我们使用的是手指触碰结束事件，我们没有手指点击，就等于没有实际的手指点击，因为我们点击之后立马松开手指，这个时候我们的changedTouches监听到了发生变化，就保存了这个数据。</p>\n","prev":{"title":"微信小程序-案例练习","link":"2023/04/21/Web/微信小程序/example/31-微信小程序-案例练习"},"next":{"title":"微信小程序-data和mark","link":"2023/04/19/Web/微信小程序/event/29-微信小程序-data和mark"},"plink":"http://example.com/2023/04/20/Web/微信小程序/event/30-微信小程序-touches和changedTouches/","toc":[{"id":"touches和changedtouches的区别","title":"touches和changedTouches的区别","index":"1"}],"reading_time":"621 words in 4 min"}